var Dialog=function(){function i(i,t,e,o){this._thisDialog=null;var a={};$.extend(a,o),function(i){var t="",e={modal:!0,autoOpen:!1,resizable:!1,draggable:!1};if($.extend(e,i),!i.id)throw"plz define id";$("#"+i.id).length>0&&($("#"+i.id).dialog("destroy"),$("#"+i.id).remove());i.styleClass||(i.styleClass="");t+='<div id="'+i.id+'" class="'+i.styleClass+'" title="'+i.title+'">',t+=i.contents,t+="</div>",$("body").append(t),$.extend(e,{open:function(i,t){$(".ui-dialog-titlebar-close",t.dialog|t).show()}}),$("#"+i.id).dialog(e)}(a),this._thisDialog=$("#"+a.id),$.isFunction(t)&&(e=t,t=void 0),$.isFunction(e)&&(this._thisDialog.off("dialogclose"),this._thisDialog.on("dialogclose",e)),this._thisDialog.html(i),this._thisDialog.dialog("option","title",t)}return i.prototype={open:function(i,t){this._thisDialog.dialog("open")}},i}();!function(i){i.dialog=function(t,e,o,a){var s={buttons:[{text:"확인",click:function(){i(this).dialog("close")}}],id:"_mc-alert"};i.isFunction(e)&&(o=e,e=void 0),e||(e="Alert"),a&&i.extend(s,a),new Dialog(t,e,o,s).open()},i.alert=function(t,e,o,a){t='<div class="mess-pop"><div class="mess-center"><div class="bluei-circle"></div><p>'+t+"</p></div></div>",i.dialog(t,e,o)},i.warning=function(t,e,o){t='<div class="mess-pop"><div class="mess-center"><div class="noti-trangle"></div><p>'+t+"</p></div></div>",i.dialog(t,e,o)},i.error=function(t,e,o){t='<div class="mess-pop"><div class="mess-center"><div class="red-circle"></div><p>'+t+"</p></div></div>",i.dialog(t,e,o)},i.confirm=function(t,e,o,a){i.isFunction(e)&&(a=o,o=e,e=void 0),e||(e="Confirm"),new Dialog(t='<div class="mess-pop"><div class="mess-center"><div class="blue-circle"></div><p>'+t+"</p></div></div>",e,null,{buttons:[{text:"확인",click:function(){i(this).dialog("close"),o(!0)}},{text:"취소",click:function(){i(this).dialog("close"),1==a&&o(!1)}}],closeOnEscape:!1,open:function(t,e){i(".ui-dialog-titlebar-close",e.dialog|e).hide()},id:"_mc-confirm"}).open()}}(jQuery);var Modal=function(){function i(i,t,e,o){this._id=i,this._title=t,this._options=o,this._isTag=!1,t||e||o?("string"==typeof e?this._src=e:this._options=e,a(i,t,e,o)):this._isTag=!0}var t,e,o=!1,a=function(i,a,s,d){if(!i)throw"Please define id.";var n="",l="";$.extend({modal:!0,autoOpen:!1,resize:function(i,t){}},d),$("#"+i).length>0&&$("#"+i).remove(),d.styleClass||(d.styleClass=""),d.width&&(t=d.width),d.height&&(e=d.height),$.isFunction(d.receive)&&setCallBack(),d.callback&&(n=d.callback),d.receiver&&(l=d.receiver),d.closeEvent&&(o=d.closeEvent);var c="";c+='<div id="'+i+'" class="modal fade mercury-modal" data-callback="'+n+'" data-close-event="'+o+'" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="false" data-backdrop="static" >',c+='<div class="modal-dialog" style="    max-width: '+t+'px; margin: 0px auto;top:50px;">',c+='<div class="modal-content" style="width:'+t+"px; height:"+e+'px">',c+='<div class="modal-header">',c+='<div class="col-md-9">',c+='<h4 id="myModalLabel" class="modal-title">'+a+"</h4>",c+="</div>",c+='<div class="col-md-3">',c+='<button type="button" class="close mercury-modal-close" style="cursor:pointer">&times;</button>',c+="</div>",c+="</div>",c+='<div class="modal-body" style="height:'+(e-70)+'px">',c+='<iframe id="ifrm_'+i+'" name="ifrm_'+i+'" src="'+s+'" width="100%" height="100%" data-receiver="'+l+'" style="border:none"/>',c+="</div>",c+="</div>",c+="</div>",c+="</div>",$("body").append(c),d.open&&$("#"+i).modal()};return i.prototype={create:function(i,t,e,o){t||e||o?(this._id=i,this._title=t,this._options=o,"string"==typeof e?this._src=e:this._options=e,a(i,t,e,o)):this._isTag=!0},open:function(i){var t=$("#"+this._id);if("string"==typeof i)$("#ifrm_"+this._id).attr("src",i);else if(void 0===i&&!this._isTag&&!$("#ifrm_"+this._id).get(0).contentWindow._ready)return void $.alert(base.modal.not.ready);t.modal()},close:function(i){i&&$("#ifrm_"+this._id).attr("src",i),$("#"+this._id).modal("hide")},send:function(i){if(this._isTag){var t=$("#"+this._id).data("callback");if(!t)return;window[t](i)}else $.send(this._id,i)},sendModal:function(i){$.sendModal(this._id,i)},getFrame:function(){return $("#ifrm_"+this._id)}},i}();!function(i){i.send=function(i,t){DataBroker.provider(i,t)},i.sendModal=function(i,t){i?DataBroker.sendModal(i,t):window.parent.DataBroker.send(t)},i.changeModal=function(i){ModalSwitch.provider(i)}}(jQuery);var DataBroker={provider:function(i,t){i instanceof Object&&(t=i,i=null),i?self!=top?window.parent.DataBroker.sendModal(i,t):DataBroker.sendModal(i,t):window.parent.DataBroker.send(t)},send:function(i){var t;$(".mercury-modal").each(function(){t=$(this).parent("div"),"none"!=$(t).css("display")&&$(this).data("callback")&&window[$(this).data("callback")](i)})},sendModal:function(i,t){var e=$("#ifrm_"+i),o=$(e).data("receiver");o&&$(e).get(0).contentWindow[o](t)}},ModalSwitch={provider:function(i){self!=top?window.parent.ModalSwitch.provider(i):ModalSwitch.show(i)},show:function(i){$(".mercury-modal").each(function(){$(this).modal("hide")}),$("#"+i).modal("show")}};