!function($){$.i18n={},$.i18n.map={};var debug=function(e){window.console&&console.log("i18n::"+e)};function callbackIfComplete(e){e.debug&&(debug("callbackIfComplete()"),debug("totalFiles: "+e.totalFiles),debug("filesLoaded: "+e.filesLoaded)),e.async&&e.filesLoaded===e.totalFiles&&e.callback&&e.callback()}function loadAndParseFiles(e,a){a.debug&&debug("loadAndParseFiles"),null!==e&&e.length>0?loadAndParseFile(e[0],a,function(){e.shift(),loadAndParseFiles(e,a)}):callbackIfComplete(a)}function loadAndParseFile(e,a,n){a.debug&&(debug("loadAndParseFile('"+e+"')"),debug("totalFiles: "+a.totalFiles),debug("filesLoaded: "+a.filesLoaded)),null!==e&&void 0!==e&&$.ajax({url:e,async:a.async,cache:a.cache,dataType:"text",success:function(t,s){a.debug&&(debug("Succeeded in downloading "+e+"."),debug(t)),parseData(t,a),n()},error:function(t,s,r){a.debug&&debug("Failed to download or parse "+e+". errorThrown: "+r),404===t.status&&(a.totalFiles-=1),n()}})}function parseData(data,settings){var parsed="",lines=data.split(/\n/),regPlaceHolder=/(\{\d+})/g,regRepPlaceHolder=/\{(\d+)}/g,unicodeRE=/(\\u.{4})/gi;lines.forEach(function(e,a){if((e=e.trim()).length>0&&"#"!=e.match("^#")){var n=e.split("=");if(n.length>0){for(var t=decodeURI(n[0]).trim(),s=1==n.length?"":n[1];"\\"===s.match(/\\$/);)s=s.substring(0,s.length-1),s+=lines[++a].trimRight();for(var r=2;r<n.length;r++)s+="="+n[r];if(s=s.trim(),"map"==settings.mode||"both"==settings.mode){var i=s.match(unicodeRE);i&&i.forEach(function(e){s=s.replace(e,unescapeUnicode(e))}),$.i18n.map[t]=s}if("vars"==settings.mode||"both"==settings.mode)if(s=s.replace(/"/g,'\\"'),checkKeyNamespace(t),regPlaceHolder.test(s)){var l=!0,g="",o=[];s.split(regPlaceHolder).forEach(function(e){!regPlaceHolder.test(e)||0!==o.length&&-1!=o.indexOf(e)||(l||(g+=","),g+=e.replace(regRepPlaceHolder,"v$1"),o.push(e),l=!1)}),parsed+=t+"=function("+g+"){";var u='"'+s.replace(regRepPlaceHolder,'"+v$1+"')+'"';parsed+="return "+u+";};"}else parsed+=t+'="'+s+'";'}}}),eval(parsed),settings.filesLoaded+=1}function checkKeyNamespace(key){var regDot=/\./;if(regDot.test(key)){var fullname="",names=key.split(/\./);names.forEach(function(name,i){i>0&&(fullname+="."),fullname+=name,eval("typeof "+fullname+' == "undefined"')&&eval(fullname+"={};")})}}function unescapeUnicode(e){var a=[],n=parseInt(e.substr(2),16);return n>=0&&n<Math.pow(2,16)&&a.push(n),a.reduce(function(e,a){return e+String.fromCharCode(a)},"")}$.i18n.properties=function(e){(e=$.extend({name:"Messages",language:"",path:"",mode:"vars",cache:!1,debug:!1,encoding:"UTF-8",async:!1,callback:null},e)).path.match(/\/$/)||(e.path+="/"),e.language=this.normaliseLanguageCode(e.language),e.language.indexOf("ko")>-1&&(e.language="");var a=e.name&&e.name.constructor===Array?e.name:[e.name];e.totalFiles=2*a.length+(e.language.length>=5?a.length:0),e.debug&&debug("totalFiles: "+e.totalFiles),e.filesLoaded=0,a.forEach(function(a){var n,t,s,r;n=e.path+a+".properties",e.version&&(n+="?version="+e.version);var i=e.language.substring(0,2);if(i?(t=e.path+a+"_"+i+".properties",e.version&&(t+="?version="+e.version),r=[n,t]):r=[n],e.language.length>=5){var l=e.language.substring(0,5);s=e.path+a+"_"+l+".properties",e.version&&(s+="?version="+e.version),r=[n,t,s]}loadAndParseFiles(r,e)}),e.callback&&!e.async&&e.callback()},$.message=function(e){var a,n,t=$.i18n.map[e];if(null===t)return"["+e+"]";if(2==arguments.length&&$.isArray(arguments[1])&&(a=arguments[1]),"string"==typeof t){for(n=0;-1!=(n=t.indexOf("\\",n));)t="t"==t.charAt(n+1)?t.substring(0,n)+"\t"+t.substring(2+n++):"r"==t.charAt(n+1)?t.substring(0,n)+"\r"+t.substring(2+n++):"n"==t.charAt(n+1)?t.substring(0,n)+"\n"+t.substring(2+n++):"f"==t.charAt(n+1)?t.substring(0,n)+"\f"+t.substring(2+n++):"\\"==t.charAt(n+1)?t.substring(0,n)+"\\"+t.substring(2+n++):t.substring(0,n)+t.substring(n+1);var s,r,i=[];for(n=0;n<t.length;)if("'"==t.charAt(n))if(n==t.length-1)t=t.substring(0,n);else if("'"==t.charAt(n+1))t=t.substring(0,n)+t.substring(++n);else{for(s=n+2;-1!=(s=t.indexOf("'",s));){if(s==t.length-1||"'"!=t.charAt(s+1)){t=t.substring(0,n)+t.substring(n+1,s)+t.substring(s+1),n=s-1;break}t=t.substring(0,s)+t.substring(++s)}-1==s&&(t=t.substring(0,n)+t.substring(n+1))}else if("{"==t.charAt(n))if(-1==(s=t.indexOf("}",n+1)))n++;else if(r=parseInt(t.substring(n+1,s)),!isNaN(r)&&r>=0){var l=t.substring(0,n);""!==l&&i.push(l),i.push(r),n=0,t=t.substring(s+1)}else n=s+1;else n++;""!==t&&i.push(t),t=i,$.i18n.map[e]=i}if(0===t.length)return"";if(1==t.length&&"string"==typeof t[0])return t[0];var g="";for(n=0,s=t.length;n<s;n++)"string"==typeof t[n]?g+=t[n]:a&&t[n]<a.length?g+=a[t[n]]:!a&&t[n]+1<arguments.length?g+=arguments[t[n]+1]:g+="{"+t[n]+"}";return g},$.i18n.normaliseLanguageCode=function(e){return(!e||e.length<2)&&(e=navigator.languages&&navigator.languages.length>0?navigator.languages[0]:navigator.language||navigator.userLanguage||"en"),(e=(e=e.toLowerCase()).replace(/-/,"_")).length>3&&(e=e.substring(0,3)+e.substring(3).toUpperCase()),e}}(jQuery);