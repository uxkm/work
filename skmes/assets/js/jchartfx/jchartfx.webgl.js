(function(){function U(q,a){var c=1-Math.sqrt(.499*q.r*q.r+.387*q.g*q.g+.114*q.b*q.b)/255;a[1]=c;a[0]=1.26}function aa(q,a){var c=Math.sqrt(.549*q.r*q.r+.257*q.g*q.g+.184*q.b*q.b),b;b=q.r/10;b=Math.abs(q.r-q.g)<=b&&Math.abs(q.r-q.b)<=b?!0:!1;b&&(c=Math.min(192,c));255<c&&(c=255);a[1]=Math.sqrt(1-c/255);a[0]=.85}function V(){return this._wglHeightFactor?this._wglHeightFactor:.2}function W(q){this._wglHeightFactor=q}function X(){return this._wglAngleZ?this._wglAngleZ:0}function Y(q){this._wglAngleZ=
q}var w,B;"undefined"!==typeof window?(w=window.sfx,B=window.cfx):(w=require("../Framework/debug.system.js"),B=w.cfx);B.webglVersion="7.6.6537.25476";var Q=function a(c,b){a._ic();this._0=c;this._2=this._1=null;this._11=this._10=this._9=this._8=this._7=this._6=this._5=this._4=this._3=0;this._12=!0;this._13=null;this._16=this._15=this._14=!1;this._17=0;this.tLines=!0;this._18=!1;this._19={};this._20=80;this._24=this._23=this._22=this._21=0;this._25=.85;this._27=this._26=!1;this._29=this._28=null;this._30=
0;this._31=new Z;var d=navigator.userAgent;0<=d.indexOf("Chrome/")?this._30=1:0<=d.indexOf("Trident/")&&(this._30=1);this._30&1&&(this._15=!0);this._32=q.create();this._33=q.create();void 0!==b&&(this._uc=b)};B.WebGLEngine=Q;Q.prototype={getLights:function(){return this._31},getWall:function(){null==this._28&&(this._28=new R);return this._28},getShininess:function(){return this._25},setShininess:function(a){this._25=a},getOptions:function(){return this._29},setOptions:function(a){this._29=a},ib7:function(){return this._0.getAngleX()},
ib8:function(){return this._0.getAngleY()},ib$:function(){return this._0.b},ib9:function(){return 5},icd:function(a){this._17=a;this._34&&(this._34._wglHint=a)},icr:function(a,c,b,d,e,f,g){if(g){null!=this._2&&c!=this._2&&this._1&&this._16&&(this._M0(this._1),this._16=!1);if(this._2=c)this._34=c.idj();c={x1:d.x,y1:d.y,x2:d.x+d.w,y2:d.y+d.h};d={x1:b.x,y1:b.y,x2:b.x+b.w,y2:b.y+b.h};g&2?(b=this._35,null==b&&(this._35=b=this._36),this._21=(d.x1-b.x1)/(b.x2-b.x1),this._22=(d.y1-b.y1)/(b.y2-b.y1),this._23=
(d.x2-d.x1)/(b.x2-b.x1),this._24=(d.y2-d.y1)/(b.y2-b.y1)):(this._23=0,this._37=b.w,this._38=b.h);this._36=c;this._39=d;this._40=e;this._41=f;this._42=this._37;this._43=this._38;0==(this._uc&2)&&(e=window.devicePixelRatio||1,this._42*=e,this._43*=e);e=Math.log(2);this._42=Math.pow(2,Math.ceil(Math.log(this._42)/e));this._43=Math.pow(2,Math.ceil(Math.log(this._43)/e));e=!0;a&&(e=a.b.l&4096);this._M1(e)}},ib_:function(a,c){var b=this._1,d=!0;a.idM=B.bn.prototype._drawStringAngle2Canvas;b&&(null!=this._2&&
a!=this._2?this._M0(b):d=!this._16);this._2=a;this._44=c;this._45=[];this._18=!1;this._46=a.idf()&8;this._26=!1;this._48=this._47=U;this._49=[0,0];this._50=w.m.b;this._27=!1;this._51=this._25;this._34=b=a.idj();this._52=b._c;var b=b.S,e=this;w._M?(b._Cp=e._52._pc,b.cfxDetect=function(a,b){e._M2(e._1);var c=e._M3(e._1,b.pageX,b.pageY),d=document.createElement("g");null!=c&&d.setAttribute("sfxid",c);return d},b.addEventListener("touchstart",w._tFS,!1),b.addEventListener("touchmove",w._tFM,!1),b.addEventListener("touchend",
w._tFE,!1)):b.onmousemove=function(a){var b=e._M3(e._1,a.offsetX,a.offsetY),c=e._52._pc.S,d=e.targetInfo;void 0===d&&(d={},e.targetInfo=d,d.target=document.createElement("g"),d._dh=!0,d.allowClose=!0);null!=b?d.target.setAttribute("sfxid",b):d.target.removeAttribute("sfxid");c.onmousemove.call(c,a,d)};d&&this._M4()},icf:function(){var a=this._1;null!=this._34._wglTexts?(this._53=this._34._wglTexts,this._M5(a,this._53)):this._53=null;this._54=null;w._M||this._M2(a);this._35=null},icq:function(a,c,
b,d){this._55=b;this._46&&(this._18=!0)},_M6:function(){this._55=this._34._Gv("fill",this._55,null,0);this._18=!1},icb:function(a,c,b,d,e,f,g,k,h){e=null;f=this._M7(d);if(4!=this._17||null!=this._28)g=4==this._17?this._28.hash:this._44.b.t,k=null,null!=g&&(k=new w._p1(e),g.tryGetValue(k,"3DModel")&&(e=k.a.bar)),this._M8(g,k,f);0!=h&&(e={style:"Faces",faces:h});c.b==b.b?this._M9(c,b,f,1):c.a==b.a?this._M9(c,b,f,1):c.c==b.c?this._M9(c,b,f,1):null==e||"Cube"==e.style?this._M10(c,b,f):"Faces"==e.style?
this._M11(c,b,f,e):"Cylinder"==e.style?this._M12(c,b,f,e):"CylinderHole"==e.style?this._M13(c,b,f,e):"Pyramid"==e.style?this._M14(a,!0,c,b,d,0,e.faces?e.faces:4,e):"Cone"==e.style&&this._M14(a,!1,c,b,d,0,e.faces?e.faces:30,e)},icn:function(a,c){return 0==c?(this._34._wglLastZ=a.c,new w.e(a.b,a.a)):this._M15(a,this._33,null)},ico:function(a,c,b){0==b?(this._34._wglLastZ=a.c,c.x=a.b,c.y=a.a):this._M15(a,this._33,c)},ich:function(a,c,b,d){this._0.b?(d.b=a,d.a=c,d.c=b,this._0.y(d)):(d.b=.35355*a,d.a=
.35355*c,d.c=~~(-a/2)+b-~~(3*c/4));return 0>d.c},icm:function(a,c,b,d,e){null!=d&&(a=d.C,0!=a.a&&4==b&&this._M9(c[0],c[2],a,1))},ice:function(a,c,b,d,e,f,g,k){if(this.tLines){a={};a.b=b;a.a=d;a.c=e;var h={};h.b=f;h.a=g;h.c=k;var m=c.C;c=c.m();d==g&&e==k?(h.a+=c,this._M9(a,h,m,2)):b==f&&d==g?(h.a+=c,this._M9(a,h,m,2)):b==f&&e==k&&(h.c-=c,this._M9(a,h,m,2))}},ai:function(a){},icu:function(a,c,b,d,e,f,g,k,h,m){a=[];e=[];f=[];d=this._M7(d);k=null;var n=this._44.b.t,l=null;null!=n&&(k=new w._p1(l),n.tryGetValue(k,
"3DModel")&&(l=k.a.area));this._M8(n,k,d);a=this._M16(c.b,c.a,c.c,b.b,b.a,b.c,h+b.a,m+c.a,g,a,e,f,l);this._M17(this._1,a,e,f,d,null,null,null)},icl:function(a,c,b,d,e,f){a=[];b=[];e=[];d=this._M7(d);var g=null;if(f){f=null;var k=this._44.b.t;null!=k&&(f=new w._p1(g),k.tryGetValue(f,"3DModel")&&(g=f.a.line));null!=g&&"Plane"==g.style&&(g=null)}if(g){f=c[0];var h=c[1],k=f.a,m=(f.c+h.c)/2,n=Math.abs(f.c-h.c)/8,h=c[2];c=h.a;"Cylinder"==g.style?this._M18(f.b,k,m,h.b,c,m,n,d,g):a=this._M16(f.b,k-n,m+n,
h.b,c+n,m-n,k+n,c-n,2147483647,a,e,b,g)}else{for(var k=1E3,m=-1E3,n=1E3,l=-1E3,p=1E3,t=-1E3,g=0;4>g;g++){f=c[g];var u=f.b,r=f.a;f=f.c;var y=(u-this._3)*this._5-this._9,q=(this._4-r)*this._6-this._10,v=(this._7-f)*this._8-this._11;if(0==g||y<k)h=g;k=Math.min(k,u);n=Math.min(n,r);p=Math.min(p,f);m=Math.max(m,u);l=Math.max(l,r);t=Math.max(t,f);a.push(y);a.push(q);a.push(v)}c=0;k==m&&k==this._36.x1&&(c=.005);if(0!=c)for(g=0;4>g;g++)a[3*g+0]+=c;k=a[h];n=a[h+1];m=a[h+2];c=a[(h+3)%12]-k;f=a[(h+4)%12]-n;
g=a[(h+5)%12]-m;k=a[(h+6)%12]-k;n=a[(h+7)%12]-n;m=a[(h+8)%12]-m;h=[0,0,0];h[0]=f*m-g*n;h[1]=g*k-c*m;h[2]=c*n-f*k;E.normalize(h);0>h[1]&&(h[0]=-h[0],h[1]=-h[1],h[2]=-h[2]);for(g=0;4>g;g++)e.push(h[0]),e.push(h[1]),e.push(h[2]);this._M19(b,0)}this._M17(this._1,a,e,b,d,null,null,null)},icj:function(a,c,b,d){},ici:function(a,c,b,d,e){},_M20:function(a,c,b,d,e,f,g,k,h,m,n){var l;l=null;var p=.5;null!=e&&(l=e.silhouette,void 0!=l&&"string"==typeof l&&(l=l.toLowerCase()),void 0!==e.granularity&&0!=e.granularity&&
(p=e.granularity),m=m&&"off"!=e.topBevel,n=n&&"off"!=e.bottomBevel);var t=!0,u=!0;if(l&&"basic"!=l)if("bevel"==l){l=[];0==k&&(l.push([0,0,0]),l.push([0,0,0]));(t=Math.min(e.size,.5))||(t=.005);var r=.5==t,t=t*h,y=Math.max(1,e.count)+1,q=e.facets,v=this._M21(Math.PI/2,y,t),x,z,D=2*(y-1);if(n)for(var A=0,C=D;A<y;A++,C-=2)x=v[C],z=v[C+1],x=[1-t+z,t-x,0],l.push(x),q&&l.push(x);else l.push([1,0,0]),q&&l.push([1,0,0]);if(m)for(C=A=0;A<y;A++,C+=2)0==A&&r||(x=v[C],z=v[C+1],x=[1-t+z,h-t+x,0],l.push(x),q&&
l.push(x));else l.push([1,h,0]),q&&l.push([1,h,0]);if(0!=k){var u=!1,w=k;e.taurus&&(w=Math.max(w,1-2*t));e=l[l.length-1][0];if(m)for(A=0,C=D;A<y;A++,C-=2)x=v[C],z=v[C+1],m=w+t-z,m>e||(x=[m,h-t+x,0],l.push(x),q&&l.push(x));else l.push([k,h,0]),q&&l.push([k,h,0]);if(n)for(C=A=0;A<y;A++,C+=2)0==A&&r||(x=v[C],z=v[C+1],m=w+t-z,m>e||(x=[m,t-x,0],l.push(x),q&&l.push(x)));else l.push([k,0,0]),q&&l.push([k,0,0])}else l.push([0,h,0]),l.push([0,h,0]),l.push([0,0,0]),l.push([0,0,0]);t=!1}else l=[[0,0,0],[1,0,
0],[1,0,0],[1,1,0],[1,1,0],[0,1,0],[0,1,0],[0,0,0],[0,0,0]];else l=[[0,0,0],[1,0,0],[1,0,0],[1,1,0],[1,1,0],[0,1,0],[0,1,0],[0,0,0],[0,0,0]];0>g&&(f+=g,g=-g);n={};this._M22(n,f,g,p);f=l.length;for(A=g=0;A<f;A++)if(e=l[A],m=e[0],p=e[1],e=e[2],1!=a&&(m*=a,e*=a),t&&(p*=h),g=Math.max(g,m),t||1!=a)l[A]=[m,p,e];if(0!=k&&u)for(A=0;A<f;A++)e=l[A],.5>e[0]&&(e[0]+=(g-e[0])*k);a=n.innerPoints;k=n.outerPoints;h=k.length;u=[0,0,0];for(A=0;A<h;A++)g=a[h-A-1],p=k[h-A-1],u[0]=p[0]-g[0],u[1]=p[1]-g[1],u[2]=p[2]-g[2],
this._M23(c,b,d,l,f,g,u,0!=A);this._M24(c,b,d,f)},_M21:function(a,c,b){a/=c-1;for(var d=[],e=0;e<c;e++){var f=a*e,g=Math.sin(f)*b,f=Math.cos(f)*b;d.push(g);d.push(f)}return d},ick:function(a,c,b,d,e,f,g,k,h,m,n){a=this._M7(e);e=null;f=this._44.b.t;g=null;null!=f&&(g=new w._p1(e),f.tryGetValue(g,"3DModel")&&(e=g.a.pie));this._M8(f,g,a);this._56=c;g=1;c=h.w/c.w;h=this._57;f=0;m=this._44.bB;k=this._44.b.e;k!=B.Gallery.Pie&&k!=B.Gallery.Doughnut?m&&((g=m.a)||(g=1)):f=m.A;k=[];m=[];n=[];this._M20(g,k,
m,n,e,b,d,c,h,!0,!0);this._M25(k,m,n);var l=g=null,p=1;0!=this._23?p=this._M26():(l=Math.min(100,Math.max(10,this._44.b.r))/100,p*=1-(1-l)/2);0!=f&&(p*=1-f/(100+f)*1);l=[p,p,p];0!=this._23&&(g=this._M27(h,null,this._58,!1));this._M17(this._1,k,m,n,a,g,l,this._59);k=this._44.b.e;k!=B.Gallery.Pie&&k!=B.Gallery.Doughnut||0!=this._60||this._M28(b,d,f,g,p,h,c,e,0,null)},_M29:function(a){var c=null;a&&(c=a.shadow);if(!c)c={};else if("off"==c.visible)return null;void 0===c.alpha&&(c.alpha=192);void 0===
c.factor&&(c.factor=20);void 0===c.radius&&(c.radius=2);void 0===c.yOffset&&(c.yOffset=3);void 0===c.xOffset&&(c.xOffset=0);return c},_M28:function(a,c,b,d,e,f,g,k,h,m){var n=this._M29(k);if(n){var l,p=this._44.e,t=p==this._44.o,u=p==this._44.q,r={start:a,end:0==b?a:a+c,offset:this._44.bP/100};if(t){l={};var y=this._M30(d,null);null==m?(this._M31(y,f,g,d,e,b,h,!1,l,k),0!=g&&this._M31(y,f,g,d,e,b,h,!0,l,k)):r._PT=m;l.areas=[];l.areas.push(r);0!=b&&(this._61=l)}else if(0!=b){l=this._61;a=l.areas;var q=
!1;for(c=0;c<a.length;c++)if(p=a[c],this._M32(p,r,!1)){q=!0;break}q||a.push(r)}if(t&&0==b||u&&0!=b){t=this._44.c.idj();u=t._sG2();r=new B.eT;r.ip("Radius",n.radius.toString(),!0);q=new w.ar(w.m.l(n.alpha,n.factor,n.factor,n.factor));a=l.areas;if(0!=b){var v=!1;for(c=0;c<a.length;c++){for(var p=a[c],x=c+1;x<a.length;x++)if(this._M32(p,a[x],!0)){v=!0;a.splice(x,1);break}if(v)break}}for(c=0;c<a.length;c++)p=a[c],null!=m?this._M33(p,y,d,e,q,r,u,n,l):this._M34(p,f,g,d,e,b,h,q,r,u,k,n,l);t._eG2(u)}}},_M30:function(a,
c){var b=q.create();q.translate(this._33,[0,0,-2],b);a&&q.translate(b,a);q.multiply(b,this._62);this._59&&q.multiply(b,this._59);c&&q.translate(b,c);return b},_M31:function(a,c,b,d,e,f,g,k,h,m){var n=c,l=b;b=0;var p=-1,t=1,u=-1,r=1,y=0,q=0;1==g&&(null!=d?(u=p=-.5,r=t=1.5,q=y=.5):(u=p=-1,r=t=1,q=y=.2),n=0,b=-1);p*=e;t*=e;u*=e;r*=e;n*=e;b*=e;null!=m&&("Bevel"==m.silhouette&&(b+=m.size*c*.5),m.taurus&&(l=Math.max(l,1-2*m.size*c)));k&&(p*=l,t*=l,u*=l,r*=l);0!=f&&15<=this._63&&!this._64&&(b=(n+b)/2);c=
this._M35([p,n,q,1],a,null);n=this._M35([t,n,q,1],a,null);u=this._M35([y,b,u,1],a,null);a=this._M35([y,b,r,1],a,null);k?(h.h0=c,h.h1=n,h.h2=u,h.h3=a):(h.p0=c,h.p1=n,h.p2=u,h.p3=a)},_M32:function(a,c,b){if(a.offset==c.offset){if(.01>Math.abs(c.end-a.start))return a.start=c.start,!0;if(.01>Math.abs(c.start-a.end))return a.end=c.end,!0;if(b&&.01>Math.abs(c.end+360-a.start))return a.start=c.start,!0}return!1},_M34:function(a,c,b,d,e,f,g,k,h,m,n,l,p){var t=l.yOffset,u=l.xOffset;l=null;var r=a.start,y=
a.end;if(0!=a.offset){p=q.create();q.identity(p);var J=this._M36((r+y)/2);q.rotate(p,J,[0,1,0]);a=[a.offset*e,0,0];q.multiplyVec3(p,a);p={};a=this._M30(d,a);this._M31(a,c,b,d,e,f,g,!1,p,n);0!=b&&this._M31(a,c,b,d,e,f,g,!0,p,n)}g=p.p0;n=p.p1;e=p.p2;f=p.p3;m._se(h);c=g.x+u;d=e.y+t;g=n.x-g.x+u;e=f.y-e.y+t;var v,x,z,D;0!=b&&(v=p.h0.x+u,z=p.h1.x-p.h0.x+u,D=p.h3.y-p.h2.y+t,x=d+(e-D)/2);r==y?0==b?m.F(k,c,d,g,e):(l=new w.aA,l.g(c,d,g,e,0,360),l.g(v,x,z,D,0,-360)):(y*=-1,r*=-1,0>y&&0<r&&(y+=360),360<=r&&360>
y&&(r-=360),t=y-r,y<r&&(t=360-r+y,y=r+t),l=new w.aA,0==b?l.y({x:c,y:d,w:g,h:e},r,t):(l.g(c,d,g,e,r,t),l.g(v,x,z,D,y,-t)));null!=l&&m.H(k,l);m._ee(h)},_M33:function(a,c,b,d,e,f,g,k,h){b=k.yOffset;k=k.xOffset;g._se(f);h=new w.aA;a=a._PT;for(var m=[],n=[0,-1,0,1],l=a.length/2-1,p=0,t=0;p<l;p++,t+=2){n[0]=a[t]*d;n[1]=-1*d;n[2]=a[t+1]*d;n[3]=1;var u=this._M35(n,c,null);u.x+=k;u.y+=b;m.push(u)}h.z(m);g.H(e,h);g._ee(f)},icp:function(a,c,b,d,e,f,g,k,h,m,n){this._M14(a,!0,c,b,d,h,n?n:4,null)},ica:function(a,
c,b,d,e,f,g,k,h,m,n){this._M14(a,!1,c,b,d,h,n?n:30,null)},icc:function(a,c,b,d,e,f,g,k){a=this._M7(d);this._M12(c,b,a,null)},ics:function(a,c,b,d,e){a=this._M7(d);this._M37(c.b,c.a,c.c,b,a,null)},_M11:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var g=(c.b-this._3)*this._5-this._9,k=(this._4-c.a)*this._6-this._10;c=(this._7-c.c)*this._8-this._11;var h=0;c<a&&(a=c);k<f&&(h=f,f=k,k=h);g<e&&(h=e,e=g,g=h);c=this._1;var m,n,l,p=
[e,f,a],t=[1,k-f,1],h="F,"+d.faces+","+d.bevel+","+d.bevelCount,h=h+(","+d.bevelSide+","+d.sideFaces);n="on"==d.bottomBevel;var u=0;m=g-e;var g=!1,r=0;l=1;var y=0,q=null;d.bevel?(u=d.bevel*m,n&&(t[1]=k-f-1*u,p[1]+=u)):n=!1;this.isAxis||0==this._23||(p=this._M26(),t=[p,p,p],l*=k-f,p=this._M27(1,null,this._58,!1),y=f,g=!0,r=-m/2,q=this._59);if(g=g?null:this._65[h])m=g.Vertices,n=g.Normals,l=g.Indices,g.bottomVertices&&this._M42(0,c,g.bottomVertices,g.bottomNormals,g.bottomIndices,b,[e,f,a],null,null,
c.TRIANGLES),g.capVertices&&(this._M42(0,c,m,n,l,b,p,t,null,c.TRIANGLES),m=g.capVertices,n=g.capNormals,l=g.capIndices);else{var v=[],x=[],z=[],w=d.faces;d.bevel&&(l*=1-u);r=this._M38(!1,w,r,m,d);this._M39(w,r,r,0,l,v,x,z);y&&this._M40(v,0,y,0);g={};this._M41(c,g,"",v,x,z);"off"!=d.cap?(this._M42(0,c,g.Vertices,g.Normals,g.Indices,b,p,t,q,c.TRIANGLES),n?(v=[],x=[],z=[],this._M43(w,r,d.bevelCount,u,0,v,x,z,d,m),this._M41(c,g,"bottom",v,x,z),p=[e,f,a],this._M42(0,c,g.bottomVertices,g.bottomNormals,
g.bottomIndices,b,p,null,null,c.TRIANGLES)):g.bottomVertices=null,v=[],x=[],z=[],n=r,l=0,d.bevel&&(n=this._M43(w,r,d.bevelCount,0,u,v,x,z,d,m),l=u),this._M44(w,n,l,v,x,z),this._M41(c,g,"cap",v,x,z),m=g.capVertices,n=g.capNormals,l=g.capIndices):(g.capVertices=null,m=g.Vertices,n=g.Normals,l=g.Indices);this._65[h]=g}"off"!=d.cap&&(t=null,p=d.bevel?[e,k-(k-f)*u,a]:[e,k,a]);this._M42(0,c,m,n,l,b,p,t,null,c.TRIANGLES)},_M38:function(a,c,b,d,e){var f=0,g=0,k;e&&(f=e.bevelSide,g=e.sideFaces?Math.max(1,
e.sideFaces)+1:16,k=f*d);(e=4==c)&&this._64&&this._44.b.e==B.Gallery.Pyramid&&(e=!1);if(e)if(c=b,e=b+d,a&&(a=Math.cos(Math.PI/4)*d,d=(d-a)/2,c+=d,e-=d),f){d=[];var h=Math.PI/2/(g-1),f=[];for(a=0;a<g;a++){b=h*a;var m=Math.sin(b)*k;b=Math.cos(b)*k;f.push(m);f.push(b)}h=2*(g-1);e-=k;c+=k;a=0;for(k=h;a<g;a++,k-=2)m=f[k],b=f[k+1],d.push(e+b),d.push(e+m);for(k=a=0;a<g;a++,k+=2)m=f[k],b=f[k+1],d.push(e+b),d.push(c-m);a=0;for(k=h;a<g;a++,k-=2)m=f[k],b=f[k+1],d.push(c-b),d.push(c-m);for(k=a=0;a<g;a++,k+=2)m=
f[k],b=f[k+1],d.push(c-b),d.push(e+m)}else d=[c,e,e,e,e,c,c,c];else{e=d/2;m=b+e;d=[];h=(c-1)*Math.PI/c;this._64&&(h+=this._66);var n=-(2*Math.PI)/c;k/=2;f&&(e-=k);for(a=0;a<c;a++){b=n*a+h;var l=m+Math.cos(b)*e,p=m+Math.sin(b)*e;if(f){b-=n/2;for(var t=n/(g-1),u=0;u<g;u++){var r=b+u*t;d.push(l+Math.cos(r)*k);d.push(p+Math.sin(r)*k)}}else d.push(l),d.push(p)}}d.push(d[0]);d.push(d[1]);return d},_M39:function(a,c,b,d,e,f,g,k){a=c.length/2;for(var h=c[0],m=c[1],n=b[0],l=b[1],p=n,t=l,u=f.length/3,r=[0,
0,0],q=2==b.length,w=d>e,v=1,x=2;v<a;v++,x+=2){var z=c[x],D=c[x+1];q||(p=b[x],t=b[x+1]);f.push(h);f.push(d);f.push(m);f.push(z);f.push(d);f.push(D);f.push(p);f.push(e);f.push(t);f.push(n);f.push(e);f.push(l);var n=z-h,l=d-d,A=D-m,h=p-h,C=e-d,m=t-m;r[0]=l*m-A*C;r[1]=A*h-n*m;r[2]=n*C-l*h;E.normalize(r);w&&(r[0]=-r[0],r[1]=-r[1],r[2]=-r[2]);for(m=0;4>m;m++)g.push(r[0]),g.push(r[1]),g.push(r[2]);k.push(u);k.push(u+1);k.push(u+2);k.push(u);k.push(u+2);k.push(u+3);u+=4;h=z;m=D;n=p;l=t}},_M43:function(a,
c,b,d,e,f,g,k,h,m){b=b?Math.max(b,1):1;b+=1;for(var n,l=[],p=0;p<c.length;p++)l[p]=c[p];c=d;var t=Math.PI/2/(b-1);e-=d;for(var u=0;u<b;u++){p=t*u;n=Math.cos(p);var p=Math.sin(p),r=c+p*e;n=(e-n*e)*m;0>e&&(n=-n);n=this._M38(!1,a,n,m-2*n,h);this._M39(a,l,n,d,r,f,g,k);if(u==b-1)break;for(p=0;p<n.length;p++)l[p]=n[p];d=r}return n},_M44:function(a,c,b,d,e,f){a=c.length;if(!(2>=a)){for(var g=d.length/3,k=0,h=2;k<a;k++,h+=2)d.push(c[h]),d.push(b),d.push(c[h+1]),e.push(0),e.push(1),e.push(0);c=a-2;for(b=0;b<
c;b++)f.push(g+(b+2)%a),f.push(g+(b+1)%a),f.push(g)}},_M45:function(a,c,b,d){for(var e=a.length,f=0;f<e;f+=3)a[f]*=c,a[f+1]*=b,a[f+2]*=d},_M40:function(a,c,b,d){for(var e=a.length,f=0;f<e;f+=3)a[f]+=c,a[f+1]+=b,a[f+2]+=d},_M12:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var g=(c.b-this._3)*this._5-this._9,k=(this._4-c.a)*this._6-this._10;c=(this._7-c.c)*this._8-this._11;var h=0;c<a&&(a=c);k<f&&(h=f,f=k,k=h);g<e&&(h=e,e=g,
g=h);c=this._1;var m,n,l;m=g-e;n=1;var g=[e,f,a],h=[1,k-f,1],p=null,t=!1,u=l=0;this.isAxis||0==this._23||(g=this._M26(),h=[g,g,g],g=this._M27(1,null,this._58,!1),g[0]-=.5/this._44.a$,p=this._59,t=!0,l=.5-m/2,u=f,n=k-f);d||(d={faces:30});var r="C,"+d.faces+","+d.bevel,q="on"==d.bottomBevel,w=0;d.bevel?(w=d.bevel*m,q&&(h[1]=k-f-1*w,g[1]+=w)):q=!1;var v=t?null:this._65[r];if(v)m=v.Vertices,n=v.Normals,l=v.Indices,v.bottomVertices&&this._M42(0,c,v.bottomVertices,v.bottomNormals,v.bottomIndices,b,[e,f,
a],null,null,c.TRIANGLES),v.capVertices&&(this._M42(0,c,m,n,l,b,g,h,p,c.TRIANGLES),m=v.capVertices,n=v.capNormals,l=v.capIndices);else{var x=[],z=[],D=[],A=[],C=[],B=[[.5,0,.5],[.5,.5,.5],[.5,1,.5]];d.bevel&&(B[2][1]*=1-w);var F=d.faces;this._M46(B,F,x,z,D,null);this._M45(x,m,n,m);(l||u)&&this._M40(x,l,u,0);v={};this._M41(c,v,"",x,z,D);"off"!=d.cap?(this._M42(0,c,v.Vertices,v.Normals,v.Indices,b,g,h,p,c.TRIANGLES),q?(A=[],C=[],this._M47(F,x,z,A,C),x=[],z=[],D=[],this._M48(F,B,w,d.bevelCount,m,w,0,
x,z,D),this._M41(c,v,"bottom",x,z,D),g=[e,f,a],this._M42(0,c,v.bottomVertices,v.bottomNormals,v.bottomIndices,b,g,null,null,c.TRIANGLES)):v.bottomVertices=null,A=[],C=[],this._M47(F,x,z,A,C),x=[],z=[],D=[],d.bevel?this._M48(F,B,w,d.bevelCount,m,0,w,x,z,D):this._M49(F,A,0,x,z,D),this._M41(c,v,"cap",x,z,D),m=v.capVertices,n=v.capNormals,l=v.capIndices):(v.capVertices=null,m=v.Vertices,n=v.Normals,l=v.Indices);t||(this._65[r]=v)}"off"!=d.cap&&(h=null,g=d.bevel?[e,k-(k-f)*w,a]:[e,k,a]);this._M42(0,c,
m,n,l,b,g,h,null,c.TRIANGLES)},_M13:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var g=(c.b-this._3)*this._5-this._9,k=(this._4-c.a)*this._6-this._10;c=(this._7-c.c)*this._8-this._11;var h=0;c<a&&(h=a,a=c,c=h);k<f&&(h=f,f=k,k=h);g<e&&(h=e,e=g,g=h);g=(g-e)/2;(h=d.hole)||(h=.5);var m=[],n=[],l=[],p=d.size;d.size*=g;this._M20(1,m,n,l,d,0,360,h,1,!0,!0);this._M45(m,g,k-f,g);this._M40(m,e+g,f,a+(c-a)/2);this._M25(m,n,l);this._M17(this._1,
m,n,l,b,null,null,null);d.size=p},_M47:function(a,c,b,d,e){for(var f=0,g=3*(c.length/3-a);f<a;f++,g+=3)d.push(c[g]),d.push(c[g+1]),d.push(c[g+2]),e.push(b[g]),e.push(b[g+1]),e.push(b[g+2])},_M46:function(a,c,b,d,e,f){for(var g=2*Math.PI/c,k=[0,0,0],h=[0,0,0],m=[0,0,0],n=[],l=0;l<c;l++){var p=g*l+0;n.push(Math.cos(p));n.push(Math.sin(p))}for(g=0;g<a.length;g++){for(var p=a[g],t=l=0;l<c;l++,t+=2){var u=n[t],r=n[t+1];b.push(p[0]*u+.5);b.push(p[1]);b.push(p[2]*r+.5);if(0!=g){var q=a[g-1];k[0]=(p[1]-q[1])*
u;k[2]=(p[1]-q[1])*r;k[1]=0;E.normalize(k)}else k[0]=0,k[1]=0,k[2]=0;g<a.length-1?(q=a[g+1],h[0]=(q[1]-p[1])*u,h[2]=(q[1]-p[1])*r,h[1]=0,E.normalize(h)):(h[0]=0,h[1]=0,h[2]=0);m[0]=.5*h[0]+.5*k[0];m[1]=.5*h[1]+.5*k[1];m[2]=.5*h[2]+.5*k[2];E.normalize(m);null!=f&&(m[1]=f[g]);d.push(m[0]);d.push(m[1]);d.push(m[2])}if(0!=g)for(l=0;l<c;l++)p=g*c,t=(1+l)%c,e.push(p+l),e.push(p+t),e.push(p-c+l),e.push(p+t),e.push(p-c+t),e.push(p-c+l)}},_M49:function(a,c,b,d,e,f){for(var g=d.length/3,k=0,h=0;k<a;k++,h+=
3)d.push(c[h]),d.push(b),d.push(c[h+2]),e.push(0),e.push(1),e.push(0);c=a-2;for(k=0;k<c;k++)f.push(g+(k+2)%a),f.push(g+(k+1)%a),f.push(g)},_M48:function(a,c,b,d,e,f,g,k,h,m){d||(d=1);b=[];var n=c[2];c=n[0];var l=n[2];b.push([n[0],f,n[2]]);var n=f,p=[];p.push(0);for(var t=0;t<d;t++){var u=f+(g-f)*(t+1)/d,r=Math.PI/2*(t+1)/(d+1),q=Math.sin(r)*(u-n);f>g&&(q=-q);b.push([c-q,u,l-q]);p.push(Math.cos(r));f=u}this._M46(b,a,k,h,m,p);this._M45(k,e,1,e);lastVertices=[];lastNormals=[];this._M47(a,k,h,lastVertices,
lastNormals);this._M49(a,lastVertices,g,k,h,m)},_M22:function(a,c,b,d){var e=Math.floor(1/d*b),f=c+b/2,g=[1,0,0],k=[0,1,0],h=2<=d,m=q.create();q.identity(m);var n=this._M36(f);q.rotate(m,n,k);var l=[this._44.bP/100,0,0];q.multiplyVec3(m,l);for(var f=0+l[0],p=0+l[1],l=0+l[2],t=[],u=[],n=[f,p,l],r=0;r<=e;r++)t.push(n),h&&t.push(n);n=this._M36(c+b);b=this._M36(d);d=E.create();for(r=0;r<=e;r++)r==e&&(n=this._M36(c)),q.identity(m),q.rotate(m,n,k),q.multiplyVec3(m,g,d),d[0]*=1,d[1]*=.5,d[2]*=1,d[0]+=f,
d[1]+=p,d[2]+=l,u.push([d[0],d[1],d[2]]),h&&u.push([d[0],d[1],d[2]]),n-=b;a.innerPoints=t;a.outerPoints=u},_M23:function(a,c,b,d,e,f,g,k){for(var h,m,n,l=a.length/3,p=0;p<e;p++)n=d[p],h=g[0]*n[0]+f[0],m=n[1]+f[1],n=g[2]*n[0]+f[2],a.push(h),a.push(m),a.push(n),c.push(0),c.push(0),c.push(0),l++,k&&0!=p&&this._M50(b,e,l)},_M50:function(a,c,b){--b;a.push(b);a.push(b-c);a.push(b-c-1);a.push(b);a.push(b-c-1);a.push(b-1)},_M24:function(a,c,b,d){for(var e=a.length/3-1-d,f=0,g=0;f<d;f++,g+=3)a.push(a[g]),
a.push(a[g+1]),a.push(a[g+2]),c.push(0),c.push(0),c.push(0);for(f=2;f<d;f++)b.push(e+d+1),b.push(e+d+f),b.push(e+d+f+1);e=a.length/3-1-2*d;if(0<=e)for(f=0,g=3*e;f<d;f++,g+=3)a.push(a[g]),a.push(a[g+1]),a.push(a[g+2]),c.push(0),c.push(0),c.push(0);e=a.length/3-1-d;for(f=2;f<d;f++)b.push(e+f+1),b.push(e+f),b.push(e+1)},_M26:function(){var a=1,a=this._23,c=this._24;1<this._58?a*=this._58:c/=this._58;a=Math.min(a,c);1<a&&(a=1);c=Math.min(100,Math.max(10,this._44.b.r))/100;return a*=1-(1-c)/2},_M27:function(a,
c,b,d){var e=a=0,f=0;1<this._44.a$&&(a=2*this._21-(1-1/this._44.a$),b&&1<b&&(a*=b));if(1<this._44.by){var g=2*this._22-(1-1/this._44.by);d?f=g:(e=g,b&&1>b&&(e/=b))}c&&(a+=c[0],e+=c[1],f+=c[2]);return[a,e,f]},_M14:function(a,c,b,d,e,f,g,k){var h=(b.b-this._3)*this._5-this._9;a=(this._4-b.a)*this._6-this._10;var m=(this._7-b.c)*this._8-this._11,n=(d.b-this._3)*this._5-this._9;b=(this._4-d.a)*this._6-this._10;d=(this._7-d.c)*this._8-this._11;e=this._M7(e);var l=0;d<m&&(m=d);b<a&&(l=a,a=b,b=l);n<h&&(l=
h,h=n,n=l);d=[];var p=[],t=[],u=this._36,u=(this._4-(0<f?u.y2:u.y1))*this._6-this._10,r=Math.abs(2*u),l=(a-u)/r,q=(b-u)/r;0>f&&(l=-l,q=-q);if(u=this._67)l=0,q=1;var J=1-l,v=1-q,r=null,n=(n-h)/2;u&&(r=[h,0,m]);if(c){null==k&&(h=null,m=this._44.b.t,null!=m&&(h=new w._p1(k),m.tryGetValue(h,"3DModel")&&(k=h.a.pyramid)),this._M8(m,h,e));m=this._64;u&&(r[0]+=n,r[2]+=n);0<=f?(h=this._M38(m,g,-1+l,2*J,k),m=1<=q?[0,0]:this._M38(m,g,-1+q,2*v,k)):(h=this._M38(m,g,-1+q,2*v,k),m=1<=l?[0,0]:this._M38(m,g,-1+l,
2*J,k),l=a,a=b,b=l);if(u)for(l=0;l<h.length;l+=2)h[l]*=n,h[l+1]*=n;this._M39(g,h,m,a,b,d,p,t);0<f?this._M44(g,m,b,d,p,t):this._M44(g,h,a,d,p,t)}else h=null,this._M46([[J,a,J],[v,b,v]],g,d,p,t,null),1>q&&(a=[],this._M47(g,d,p,a,[]),this._M49(g,a,b,d,p,t)),u?(r[0]+=n/2,r[2]+=n/2):(r=[-.5,0,-.5],0!=this._23&&(r[0]=-.5/this._44.a$,r[1]=this._44.b.e==B.Gallery.Pyramid?.5/this._44.by*Math.sin(this._68):0,r[2]=0));a=g=null;b=1;u?c||(g=[n,1,n]):0!=this._23&&(b=this._M26(),g=[b,b,b],r=this._M27(1,r,this._58,
!1),a=this._59);this._M17(this._1,d,p,t,e,r,g,a);!u&&0<f&&this._44.e==this._44.o&&this._M28(0,0,0,0!=this._23?r:null,b,1,0,k,1,h)},_M16:function(a,c,b,d,e,f,g,k,h,m,n,l,p){a=(a-this._3)*this._5-this._9;c=(this._4-c)*this._6-this._10;b=(this._7-b)*this._8-this._11;d=(d-this._3)*this._5-this._9;var t=(this._4-e)*this._6-this._10;f=(this._7-f)*this._8-this._11;var u=(this._4-g)*this._6-this._10;k=(this._4-k)*this._6-this._10;f<b&&(temp=b,b=f,f=temp);g=0;e=k;var r=c,q=b,w=f;if(p=p?p.bevelSide:0){var v=
Math.abs(f-b)*p;e-=v;r-=v;q+=v;w-=v}if(h&65536){m=[a,u,f,d,t,f,d,e,f,a,r,f].concat(m);for(v=0;4>v;v++)n.push(0),n.push(0),n.push(1);g=this._M19(l,g)}if(h&131072){m=m.concat([a,u,b,d,t,b,d,e,b,a,r,b]);for(v=0;4>v;v++)n.push(0),n.push(0),n.push(-1);g=this._M19(l,g)}if(h&262144){t=[d,t,b,d,e,b,d,e,f,d,t,f];m=m.concat(t);for(v=0;4>v;v++)n.push(1),n.push(0),n.push(0);g=this._M19(l,g)}if(h&524288){t=[a,u,b,a,r,b,a,r,f,a,u,f];m=m.concat(t);for(v=0;4>v;v++)n.push(-1),n.push(0),n.push(0);g=this._M19(l,g)}h&
1048576&&(t=[a,c,q,a,c,w,d,k,w,d,k,q],m=m.concat(t),this._M51(t,n,0,2,3),g=this._M19(l,g));p&&(p=[a,r,f,d,e,f,d,k,w,a,c,w],m=m.concat(p),this._M51(p,n,0,2,3),g=this._M19(l,g),p=[a,c,q,d,k,q,d,e,b,a,r,b],m=m.concat(p),this._M51(p,n,0,2,3),g=this._M19(l,g),h&262144&&(t=[d,k,q,d,k,w,d,e,f,d,e,b],m=m.concat(t),this._M51(t,n,0,2,3),g=this._M19(l,g)),h&524288&&(t=[a,r,f,a,c,w,a,c,q,a,r,b],m=m.concat(t),this._M51(t,n,0,2,3),this._M19(l,g)));return m},_M37:function(a,c,b,d,e,f){d=d/2*this._8;a=[(a-this._3)*
this._5-this._9-d/2,(this._4-c)*this._6-this._10-d/2,(this._7-b)*this._8-this._11+d/2];c=[d,d,d];b=this._1;d=this._65.S;if(!d){(d=null!=f?f.faces:0)||(d=30);var g=f=d;d=2;for(var k=[],h=[],m=[],n=0;n<=f;n++)for(var l=n*Math.PI/f,p=Math.sin(l),t=Math.cos(l),l=0;l<=g;l++){var u=2*l*Math.PI/g,r=Math.sin(u),u=Math.cos(u)*p,q=t,r=r*p;h.push(u);h.push(q);h.push(r);k.push(d*u);k.push(d*q);k.push(d*r)}for(n=0;n<f;n++)for(l=0;l<g;l++)d=n*(g+1)+l,p=d+g+1,m.push(d),m.push(p),m.push(d+1),m.push(p),m.push(p+1),
m.push(d+1);d={};this._M41(b,d,"",k,h,m);this._65.S=d}this._M42(0,b,d.Vertices,d.Normals,d.Indices,e,a,c,null,b.TRIANGLES)},_M18:function(a,c,b,d,e,f,g,k,h){var m="round"!=h.end,n=this._44.e,l=n==this._44.o,p=n==this._44.q;m?n!=this._44.o+this._44.z&&(1==this._44.z?this._M37(a,c,b,g,k,h):this._M37(d,e,f,g,k,h)):(this._M37(a,c,b,g,k,h),p&&this._M37(d,e,f,g,k,h));var t=(d-a)*this._5,u=(e-c)*this._6;a=(a-this._3)*this._5-this._9;var r=(this._4-c)*this._6-this._10;b=(this._7-b)*this._8-this._11;g*=this._8;
(c=h.faces)||(c=30);var y=this._65["C,"+c];y||(y=this._M21(2*Math.PI,c,1));e=[];d=[];f=[];a-=g/4;r-=g/4;b+=g/4;var w=t/1,v=-u/1,n=0,x=[0,0,0],u=Math.atan2(u,t),t=q.create();q.identity(t);q.rotate(t,-u,[0,0,1]);var z,D,u=g;h.connectFactor&&(u=g*h.connectFactor);for(var A=0;2>A;A++){z=a+A*w;D=r+A*v;for(h=0;h<c;h++)x[0]=0,x[1]=y[2*h+1]*u,x[2]=y[2*h]*u,q.multiplyVec3(t,x),e.push(x[0]+z),e.push(x[1]+D),e.push(x[2]+b),d.push(0),d.push(0),d.push(0),1!=A&&(f.push(n+h),f.push(n+(h+1)%c),f.push(n+h+c),f.push(n+
(h+1)%c),f.push(n+(h+2)%c),f.push(n+h+c),h==c-1?f.push(n+c):f.push(n+h+c+1),f.push(n+h+c),f.push(n+h),h==c-1?f.push(n+c):f.push(n+h+c+1),f.push(n+h+c),f.push(n+(h+1)%c));n+=c}if(m&&(l||p)){m=e.length/3;n=m-c;m=3*n;(p=p&&0>this._44.z)&&(m=0);for(h=0;h<c;h++,m+=3)e.push(e[m]),e.push(e[m+1]),e.push(e[m+2]),d.push(0),d.push(0),d.push(0);n+=c;m=e.length/3;x[0]=0;x[1]=g/2;x[2]=g/2;q.multiplyVec3(t,x);p?e.push(x[0]+a):e.push(x[0]+z);e.push(x[1]+D);e.push(x[2]+b);d.push(0);d.push(0);d.push(0);for(h=0;h<c;h++)f.push(n+
h),p?(f.push(m),h==c-1?f.push(n):f.push(n+h+1)):(h==c-1?f.push(n):f.push(n+h+1),f.push(m))}this._M25(e,d,f);this._M17(this._1,e,d,f,k,null,null,null)},_M52:function(a,c){var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);b.itemSize=2;b.numItems=4;return b},_M5:function(a,c){this._14=!0;this._12=!1;var b=this._69;this._15?a.uniform1i(this._69.useTextureUniform,!0):(this._69=this._M53(a,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;void main(void) {gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));}",
"attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;varying vec2 vTextureCoord;void main(void) {vTextureCoord = aTextureCoord;gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}",!1,!0,!0),a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA));var d=null,e=0;if(this._44.b.l&4096){d=q.create();q.identity(d);q.translate(this._70,[0,0,-2],d);var f=this._11,e=[-1,0,f,1],f=[1,0,f,1],e=this._M35(e,d,null),
d=this._M35(f,d,null),d=Math.sqrt((d.x-e.x)*(d.x-e.x)+(d.y-e.y)*(d.y-e.y)),e=3}else e=[0,-.5,-1,1],f=[1,-.5,-1,1],d=Math.min(this._37*this._71,this._38*this._71),e=2;f=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,f);var g=[0,0,1,0,0,1,0,0,1,0,0,1];a.bufferData(a.ARRAY_BUFFER,new Float32Array(g),a.STATIC_DRAW);f.itemSize=3;f.numItems=4;var k=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,k);g=[1,0,0,1,0,0,1,0,0,1,0,0];a.bufferData(a.ARRAY_BUFFER,new Float32Array(g),a.STATIC_DRAW);k.itemSize=3;k.numItems=
4;var h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h);g=[0,1,0,0,1,0,0,1,0,0,1,0];a.bufferData(a.ARRAY_BUFFER,new Float32Array(g),a.STATIC_DRAW);h.itemSize=3;h.numItems=4;var g=this._M52(a,[0,0,1,0,1,1,0,1]),m=this._M52(a,[1,0,1,1,0,1,0,0]),n=this._M52(a,[1,0,0,0,0,1,1,1]);if(this._72)var l=g,g=n,n=l;var p,t;this._73||180<=this._74?(p=this._M52(a,[0,0,0,1,1,1,1,0]),t=this._M52(a,[1,0,0,0,0,1,1,1])):(p=this._M52(a,[1,0,1,1,0,1,0,0]),t=this._M52(a,[1,1,0,1,0,0,1,0]));var u;u=this._72?this._M52(a,
[1,1,1,0,0,0,0,1]):this._M52(a,[0,0,0,1,1,1,1,0]);var r=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,r);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),a.STATIC_DRAW);r.itemSize=1;r.numItems=6;l={};l.normalBufferZ=f;l.normalBufferX=k;l.normalBufferY=h;l.TureBufferZ=g;l.TureBufferZR0=m;l.TureBufferX=p;l.TureBufferXR0=t;l.TureBufferY=u;l.TureBufferZ2=n;l.indexBuffer=r;l.multiplier3D=e;a.uniform1i(this._69.samplerUniform,0);for(e=0;e<c.length;e++)this._M54(a,c[e],d,l);this._14=
!1;this._12=!0;this._69=b;a.useProgram(b)},_M54:function(a,c,b,d){var e=document.createElement("canvas"),f=e.getContext("2d"),g=96*c.fontSize/72,k=""+g+"px "+c.font;c.st&1&&(k="bold "+k);c.st&2&&(k="italic "+k);f.font=k;var h=f.measureText(c.T),m=c.angle,h=2*h.width,g=2*g,n=Math.log(2),l=Math.pow(2,Math.ceil(Math.log(h)/n)),n=Math.pow(2,Math.ceil(Math.log(g)/n));0==(this._uc&2)?(e.width=2*l,e.height=2*n,e.style.width=""+l+"px",e.style.height=""+n+"px",f.scale(4,4)):(f.canvas.width=l,f.canvas.height=
n);f.textAlign="left";f.textBaseline="top";f.clearRect(0,0,l,n);f.fillStyle=c.C._TH();f.font=k;f.fillText(c.T,0,0);f=a.createTexture();a.bindTexture(a.TEXTURE_2D,f);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,e);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST);a.generateMipmap(a.TEXTURE_2D);a.bindTexture(a.TEXTURE_2D,null);e=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);if(90==m||-90==m)k=h,h=g,g=
k;var l=h*d.multiplier3D/b,n=g*d.multiplier3D/b,p=0;1==c.align?p=h/4:2==c.align&&(p=h);var t=c.x,q=c.y,r=c.z;b=d.normalBufferZ;var k=d.TureBufferZ,y=0,w=!1;void 0===r&&(w=!0,r=0,b=d.normalBufferY,k=d.TureBufferY,y=2);1==c.hint?(1==c.alignY&&(q-=g/2),30<=this._74&&310>=this._74?(0!=m&&(r=90<=this._74?r+2.5*h:r-2*h,q-=.75*g),b=d.normalBufferX,k=-90==m?d.TureBufferXR0:d.TureBufferX,y=1):(0!=m&&(t-=2*h,q-=g/2),-90==m&&(k=d.TureBufferZR0),t-=p)):2==c.hint?45<=this._75?(b=d.normalBufferY,k=d.TureBufferY,
y=2,t-=p,1==c.alignY&&(r-=p)):t=this._72?t-4*p:t-p:3==c.hint?45<=this._75?(b=d.normalBufferY,k=d.TureBufferY,y=2):30<this._74&&120>this._74?(y=1,k=d.TureBufferX):120<this._74&&180>=this._74?k=d.TureBufferZ:180<this._74&&320>this._74?(y=1,k=d.TureBufferX):320<=this._74&&(t-=2*h):5==c.hint&&(r-=.01,1==c.align&&(t-=h/2),2==c.alignY&&(q-=g));c=(t-this._3)*this._5-this._9;m=(this._4-q)*this._6-this._10;g=(this._7-r)*this._8-this._11;h=c+l;r=m-n;if(w){if(!this._56)return;c=this._56.w/2;m=this._56.h/2;c=
(t-(this._56.x+c))/c;h=c+l;g=(this._56.y+m-q)/m-n;if(1<c||-1>c)return;r=m=this._57+1E-4}1==y?(g=90<this._74?g-l:g-.2*l,l=g+l,c=[c,m,g,c,r,g,c,r,l,c,m,l]):2==y?(this._72&&(g-=n),l=g+n,c=[c,m,g,c,m,l,h,m,l,h,m,g]):c=[c,m,g,h,m,g,h,r,g,c,r,g];a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);e.itemSize=3;e.numItems=4;a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,f);this._M42(1,a,e,b,d.indexBuffer,k,null,null,null,a.TRIANGLES)},_M1:function(a){var c=this._36,b=c.x2-c.x1,d=c.y2-c.y1,
e=this._41-this._40,f=2,g=2;this._11=this._10=this._9=1;a&&(f=d/b*2,g=e/b*2,this._10=d/b,this._11=e/b);this._3=c.x1;this._5=2/b;this._4=c.y2;this._6=f/d;this._7=this._41;this._8=g/e},_M4:function(){var a=this._34;null!=a&&null!=a.S&&"canvas"==a.S.localName&&(this._16=!0,a=this._1=this._M56(a.S),this._M57(a,0,0,0,0,!0),this._65={},this._15&&(shaderProgram=this._69,a.uniform1i(shaderProgram.samplerUniform,0),a.uniform1i(shaderProgram.useTextureUniform,0),this._M58(a),this._M59(a)))},_M59:function(a){var c=
a.createTexture();a.bindTexture(a.TEXTURE_2D,c);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,8,8,0,a.RGBA,a.UNSIGNED_BYTE,null);a.generateMipmap(a.TEXTURE_2D);a.activeTexture(a.TEXTURE0)},_M58:function(a){var c;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);for(var b=[],d=0;d<this._20;d++)b.push(0),b.push(0);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);c.itemSize=2;c.numItems=this._20;a.bindBuffer(a.ARRAY_BUFFER,c);a.vertexAttribPointer(this._69.TureCoordAttribute,c.itemSize,a.FLOAT,!1,
0,0)},_M7:function(a){a=a.C;this._46&&(this._18&&this._M6(),a=this._55);return a},_M25:function(a,c,b){for(var d=[0,0,0],e=b.length,f=[],g=a.length/3,k=0;k<g;k++)f[k]=0;for(k=0;k<e;k+=3){var h=b[k],m=b[k+1],n=b[k+2],l=3*h,p=3*m,t=3*n,q=a[l],r=a[l+1],y=a[l+2],w=a[p]-q,v=a[p+1]-r,x=a[p+2]-y,q=a[t]-q,r=a[t+1]-r,y=a[t+2]-y;d[0]=v*y-x*r;d[1]=x*q-w*y;d[2]=w*r-v*q;E.normalize(d);c[l]+=d[0];c[l+1]+=d[1];c[l+2]+=d[2];c[p]+=d[0];c[p+1]+=d[1];c[p+2]+=d[2];c[t]+=d[0];c[t+1]+=d[1];c[t+2]+=d[2];f[h]++;f[m]++;f[n]++}for(a=
k=0;k<g;k++,a+=3)b=f[k],d[0]=c[a]/b,d[1]=c[a+1]/b,d[2]=c[a+2]/b,E.normalize(d),c[a]=d[0],c[a+1]=d[1],c[a+2]=d[2]},_M51:function(a,c,b,d,e){b*=3;d*=3;e*=3;var f=a[b],g=a[b+1],k=a[b+2];b=a[d]-f;var h=a[d+1]-g;d=a[d+2]-k;f=a[e]-f;g=a[e+1]-g;e=a[e+2]-k;a=[0,0,0];a[0]=h*e-d*g;a[1]=d*f-b*e;a[2]=b*g-h*f;E.normalize(a);for(b=0;4>b;b++)c.push(a[0]),c.push(a[1]),c.push(a[2])},_M57:function(a,c,b,d,e,f){var g=this._31,k=g.getCount();this._13=null;for(var h=0;h<k;h++){var m=g.getItem(h);m.getEnabled()&&1==m.getStyle()&&
(this._13||(this._13=[]),this._13.push(h),this._13.push(m.getFactor()),this._13.push(m.getDiffuseFactor()))}this._30&1||(this._15=null!=this._13);this._M60(a,f);var n=this._69;a.clearColor(c,b,d,e);a.enable(a.DEPTH_TEST);a.viewport(0,0,a.viewportWidth,a.viewportHeight);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);if(f){this._15&&(a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),a.uniform1i(n.useTextureUniform,!1));this._76=this.ib$();this._74=this.ib8();this._75=this.ib7();b=this._0.getPerspective();
0>b&&(b=45);2>=b&&(b=0);this._63=b;d=B.Gallery.Bar;c=!0;this._64=e=!1;null!=this._44&&(d=this._44.b.e,this._44.b.l&4096||(1!=this._44.b_.getSeries().getCount()&&(b=0,this._64=!0),c=!1),d==B.Gallery.Pie||d==B.Gallery.Doughnut?e=!0:20<d&&(d=this._44.b.j.ic2(0,25,null,null),null!=d&&"Pie"==d.split(",")[0]&&(e=!0)));this._67=c;this._58=d=a.viewportWidth/a.viewportHeight;this._76?0==b?q.ortho(-1*d,1*d,-1,1,-100,100,this._33):q.perspective(b,d,.1,100,this._33):(q.perspective(45,d,.1,100,this._33),this._74=
this._75=0);f=[];d=[];for(h=0;h<k;h++)m=g.getItem(h),f.push(m.v);this._73=this._72=!1;if(this._76){var l=m=1;c&&(this._72=90<this._74&&270>this._74,this._73=270<=this._74);c&&(90<this._74&&270>this._74&&(l=-1),180<this._74&&360>this._74&&(m=-1));if(1!=m||1!=l)for(h=0;h<k;h++){g.getItem(h);c=f[h];var p;p=[];p.push(c[0]*m);p.push(1*c[1]);p.push(c[2]*l);f[h]=p}}for(h=0;h<k;h++)m=g.getItem(h),c=E.create(),1==m.getStyle()?E.set(f[h],c):E.normalize(f[h],c),d.push(c);h=q.create();q.identity(h);c=this._39;
f=this._40;var l=this._7,t=!0,u=this._M36(this._74),r=this._M36(this._75);p=null;var y=1,m=h;this._68=r;this._66=u;!this._44||this._44.b.l&4096?this._76&&(q.rotate(h,r,[1,0,0]),q.rotate(h,-u,[0,1,0])):(f=-1,l=1,e?(e=this._44.b.j,y=void 0!==e.getHeightFactor?e.getHeightFactor():.3,this._71=Math.min(100,Math.max(10,this._44.b.r))/100,r=this._M36(90-this._75),q.rotate(h,r,[1,0,0]),c=0,void 0!==e.getAngleZ&&(c=e.getAngleZ()),this._60=c,0!=c&&(e=this._M36(c),q.rotate(h,e,[0,0,1])),this._64&&(m=q.create(),
q.identity(m))):(m=q.create(),q.identity(m),q.rotate(h,r,[1,0,0]),this._64?1<this._44.a$&&(l=1/(1+this._44.by),f=-l):q.rotate(h,-u,[0,1,0]),this._M1(!1)),this._64?(p=this._59=h,h=q.create(),q.identity(h)):this._59=null,this._62=q.create(),q.identity(this._62),q.multiply(this._62,h),this._57=y,c={x1:-1,y1:-y,x2:1,y2:y},t=!1);this._M61(h,c,f,l,t,b,p);for(h=0;h<k;h++)c=d[h],q.multiplyVec3(m,c);b=g.getAmbientFactor();a.uniform3f(n.ambientColorUniform,b,b,b);this._13&&a.uniform1f(n.materialShininessUniform,
this._25);for(h=0;h<k;h++)m=g.getItem(h),c=d[h],b=m.getFactor(),1!=m.getStyle()&&E.scale(c,-1),m.getEnabled()&&(a.uniform3fv(n["lightDirUniform"+h],c),a.uniform3f(n["lightClrUniform"+h],b,b,b),1==m.getStyle()&&(b=m.getDiffuseFactor(),a.uniform3fv(n["lightDiffuseClrUniform"+h],[b,b,b])))}},_M61:function(a,c,b,d,e,f,g){var k=[];k.push([c.x1,c.y1,b,1]);k.push([c.x1,c.y1,d,1]);k.push([c.x1,c.y2,b,1]);k.push([c.x1,c.y2,d,1]);k.push([c.x2,c.y1,b,1]);k.push([c.x2,c.y1,d,1]);k.push([c.x2,c.y2,b,1]);k.push([c.x2,
c.y2,d,1]);if(e)for(var h=0;h<k.length;h++){var m=k[h];c=(this._4-m[1])*this._6-this._10;b=(this._7-m[2])*this._8-this._11;m[0]=(m[0]-this._3)*this._5-this._9;m[1]=c;m[2]=b}d=[0,0,0];e=q.create();var n=[0,0,0,1],l,p,t,u;c=[0,0,0];var r=!1,y=0,w=!1,v=0,x=0,z=0,D=0,A=.65,C=0;b=[1,1,1];for(var B=0;50>B;B++){q.identity(e);q.translate(e,c);q.multiply(e,this._33);q.translate(e,[0,0,-2]);0==f?q.scale(e,b):q.translate(e,d);g?q.multiply(e,g):a&&q.multiply(e,a);l=this._37;t=this._38;for(h=u=p=0;h<k.length;h++){m=
k[h];q.multiplyVec4(e,m,n);n[0]/=n[3];n[1]/=n[3];var m=(.5*n[0]+.5)*this._37,F=(-.5*n[1]+.5)*this._38;l=Math.min(l,m);t=Math.min(t,F);p=Math.max(p,m);u=Math.max(u,F)}h=p-l;m=u-t;if(h>this._37||m>this._38)p=Math.max(h/this._37,m/this._38),r?(w?p<x&&(x=p,v=d[2]):(w=!0,v=d[2],x=p),d[2]=(d[2]+y)/2):(0!=D&&1.25<=p&&D!=p?(l=A*p/(D-p),d[2]-=l,A=l):0!=f?d[2]-=.65:(b[0]*=.94,b[1]*=.94,b[2]*=.94),D=p);else{if(0==f)break;h=Math.min(h/this._37,m/this._38);if(.85>h&&(!r||!w||.1<Math.abs(y-v)))r?(h>z&&(y=d[2]),
w?d[2]=(d[2]+v)/2:(0!=C?(l=Math.max(.12,C*(.9-h)/(h-z)),l>=d[2]&&(l=.12)):l=.12,d[2]+=l,C=l),h>z&&(z=h)):(r=!0,y=d[2],z=h,d[2]+=.12,C=.12);else if(h=0,0>t?(t+=(this._38-u)/2,c[1]+=t/this._38*1,h=!0):u>this._38&&(t=u-this._38+t/2,c[1]+=t/this._38*1,h=!0),0>l?(t=l+(p-this._37)/2,c[0]-=t/this._37*1,h=!0):p>this._37&&(t=p-this._37+l/2,c[0]-=t/this._37*1,h=!0),!h)break}}this._79=d;this._62=q.create();q.identity(this._62);0!=f&&q.translate(this._62,this._79);a&&q.multiply(this._62,a);a=q.create();q.identity(a);
0==f&&q.scale(a,b);q.translate(a,c);q.multiply(a,this._33);this._70=this._33;this._33=a},_M9:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10,g=(this._7-a.c)*this._8-this._11,k=(c.b-this._3)*this._5-this._9,h=(this._4-c.a)*this._6-this._10,m=(this._7-c.c)*this._8-this._11;c=this._1;var n=0,l=0,p=0,t=this._17,q=.005;0>this._44.a.D&&(2==d?t=4:q=-q);e==k?(4!=t&&a.b<=this._36.x1&&(e+=q*d),a=[e,f,g,e,h,g,e,f,m,e,h,m],n=this._72||this._73?-1:1):f==h?(a=[k,f,g,k,f,m,
e,f,g,e,f,m],l=1):(4!=t&&a.c>=this._7&&(g+=q*d),a=[k,f,g,k,h,g,e,f,g,e,h,g],p=this._72?-1:1);this._M17(c,a,[n,l,p,n,l,p,n,l,p,n,l,p],null,b,null,null,null)},_M41:function(a,c,b,d,e,f){var g=d.length/3,k=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,k);a.bufferData(a.ARRAY_BUFFER,new Float32Array(d),a.STATIC_DRAW);k.itemSize=3;k.numItems=g;d=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,d);a.bufferData(a.ARRAY_BUFFER,new Float32Array(e),a.STATIC_DRAW);d.itemSize=3;d.numItems=g;e=null;null!=f&&(e=a.createBuffer(),
a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(f),a.STATIC_DRAW),e.itemSize=1,e.numItems=f.length);c[b+"Vertices"]=k;c[b+"Normals"]=d;c[b+"Indices"]=e},_M17:function(a,c,b,d,e,f,g,k){var h=this._19;this._M41(a,h,"",c,b,d);this._M42(0,a,h.Vertices,h.Normals,h.Indices,e,f,g,k,null==d?a.TRIANGLE_STRIP:a.TRIANGLES)},_M19:function(a,c){a.push(c);a.push(c+1);a.push(c+2);a.push(c);a.push(c+2);a.push(c+3);return c+4},_M10:function(a,c,b){var d=(a.b-this._3)*this._5-
this._9,e=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var f=(c.b-this._3)*this._5-this._9,g=(this._4-c.a)*this._6-this._10;c=(this._7-c.c)*this._8-this._11;var k=0;c<a&&(k=a,a=c,c=k);g<e&&(k=e,e=g,g=k);f<d&&(k=d,d=f,f=k);var k=this._1,h=null,m=null,n=null;this.isAxis||0==this._23||(h=this._M26(),m=Math.cos(Math.PI/4),m=[h*m,h,h*m],h=this._M27(1,null,this._58,!1),a-=.5,c-=.5,n=this._59);this._M17(k,[d,e,c,f,e,c,f,g,c,d,g,c,d,e,a,d,g,a,f,g,a,f,e,a,d,g,a,d,g,c,f,g,c,f,g,a,d,e,a,f,
e,a,f,e,c,d,e,c,f,e,a,f,g,a,f,g,c,f,e,c,d,e,a,d,e,c,d,g,c,d,g,a],[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],b,h,m,n)},_M42:function(a,c,b,d,e,f,g,k,h,m){if(!(a&1)){var n=null,l=this._2.idi();if(null!=l){var p=w.TC(l,B.IUIObject);null==p&&(p=this._2.idh().ieE(l));null!=p&&(n=p.ifo(1))}null!=
n&&1<n.length&&"B"==n[0]&&(n=null);l={};l.buffer=b;l.indexBuffer=e;l.A=m;l.normalBuffer=d;l.translation=g;l.scaling=k;l.rotation=h;l.singleColor=this._12;l.CData=f;l.id=n;this._27&&(n=new w.Z,n.x("3DMatSpecular",this._82),n.x("3DMatShininess",this._51),l.material=n);this._45.push(l)}l=this._69;n=this._32;q.identity(this._32);q.translate(this._32,[0,0,-2]);this._62&&q.multiply(this._32,this._62);g&&q.translate(this._32,g);k&&(n=q.create(),q.translate(this._32,[0,0,0],n),q.scale(this._32,k));h&&q.multiply(this._32,
h);c.bindBuffer(c.ARRAY_BUFFER,b);c.vertexAttribPointer(l.vertexPositionAttribute,b.itemSize,c.FLOAT,!1,0,0);d&&(c.bindBuffer(c.ARRAY_BUFFER,d),c.vertexAttribPointer(l.vertexNormalAttribute,d.itemSize,c.FLOAT,!1,0,0));this._12?a&2?c.uniform4fv(l.vertexColorUniform,f):c.uniform4f(l.vertexColorUniform,f.r/255,f.g/255,f.b/255,f.a/255):this._14?(c.bindBuffer(c.ARRAY_BUFFER,f),c.vertexAttribPointer(l.TureCoordAttribute,f.itemSize,c.FLOAT,!1,0,0)):(c.bindBuffer(c.ARRAY_BUFFER,f),c.vertexAttribPointer(l.vertexColorAttribute,
f.itemSize,c.FLOAT,!1,0,0));this._15&&(a=null!=e?e.numItems:b.numItems,a>=this._20&&(this._20=a+20,this._M58(c)));e?(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e),this.setMatrixUniforms(c,l,n),c.drawElements(m,e.numItems,c.UNSIGNED_SHORT,0)):(this.setMatrixUniforms(c,l,n),c.drawArrays(m,0,b.numItems))},setMatrixUniforms:function(a,c,b){a.uniformMatrix4fv(c.pMatrixUniform,!1,this._33);a.uniformMatrix4fv(c.mvMatrixUniform,!1,this._32);var d=S.create();q.toInverseMat3(b,d);S.transpose(d);a.uniformMatrix3fv(c.nMatrixUniform,
!1,d)},_M36:function(a){return a*Math.PI/180},_M56:function(a){var c=null;try{c=a.getContext("webgl",this._29)||a.getContext("experimental-webgl",this._29),c.viewportWidth=a.width,c.viewportHeight=a.height}catch(b){}c||console.log("Could not initialise WebGL");return c},getShader:function(a,c,b){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:(alert(a.getShaderInfoLog(b)),null)},_M60:function(a,c){var b=this._31,d=b.getCount(),e="",f="",
g="vLightWeighting = vLightWeighting";if(c){for(var k="vLightWeighting = uAmbientColor",h=0;h<d;h++){var m=b.getItem(h);m.getEnabled()&&(e+="uniform vec3 uLightDirection"+h+";",e+="uniform vec3 uLightColor"+h+";",1==m.getStyle()?(e+="uniform vec3 uLightDiffuseColor"+h+";",f+="vec3 lightDirection"+h+" = normalize(uLightDirection"+h+" - vPosition.xyz);",f+="vec3 reflectionDirection"+h+" = reflect(-lightDirection"+h+", normal);",f+="float specularLightWeighting"+h+" = pow(max(dot(reflectionDirection"+
h+", eyeDirection), 0.0), uMaterialShininess);",f+="float diffuseLightWeighting"+h+" = max(dot(normal, lightDirection"+h+"), 0.0);",g+=" + (uLightColor"+h+" * specularLightWeighting"+h+") + (uLightDiffuseColor"+h+" * diffuseLightWeighting"+h+")"):(k+=" + (uLightColor"+h+" * directionalLightWeighting"+h+")",f+="float directionalLightWeighting"+h+" = max(dot(transformedNormal, uLightDirection"+h+"), 0.0);"))}f+=k+";";g+=";"}c?this._13?this._15?(b="precision mediump float;varying vec3 transformedNormal;varying vec4 vPosition;uniform float uMaterialShininess;uniform vec3 uAmbientColor;uniform vec4 uVertexColor;"+
e+"varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {vec3 vLightWeighting;vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+f+g+"if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else gl_FragColor = vec4(uVertexColor.rgb * vLightWeighting, uVertexColor.a);}",e="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;varying vec3 transformedNormal;varying vec4 vPosition;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;uniform bool uTexture;void main(void) {vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);gl_Position = uPMatrix * vPosition;transformedNormal = uNMatrix * aVertexNormal;if (uTexture) {vTextureCoord = aTextureCoord;} else {vTextureCoord = vec2(0, 0);}}"):
(b="precision mediump float;varying vec3 transformedNormal;varying vec4 vPosition;uniform float uMaterialShininess;uniform vec3 uAmbientColor;uniform vec4 uVertexColor;"+e+"void main(void) {vec3 vLightWeighting;vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+f+g+"gl_FragColor = vec4(uVertexColor.rgb * vLightWeighting, uVertexColor.a);}",e="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;varying vec3 transformedNormal;varying vec4 vPosition;void main(void) {vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);gl_Position = uPMatrix * vPosition;transformedNormal = uNMatrix * aVertexNormal;}"):
this._15?(b="precision mediump float;uniform vec4 uVertexColor;varying vec3 vLightWeighting;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else gl_FragColor = vec4(uVertexColor.rgb * vLightWeighting, uVertexColor.a);}",e="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;uniform vec3 uAmbientColor;varying vec3 vLightWeighting;"+
e+"attribute vec2 aTextureCoord;varying vec2 vTextureCoord;uniform bool uTexture;void main(void) {gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);vec3 transformedNormal = uNMatrix * aVertexNormal;"+f+"if (uTexture) {vTextureCoord = aTextureCoord;} else {vTextureCoord = vec2(0, 0);}}"):(b="precision mediump float;uniform vec4 uVertexColor;varying vec3 vLightWeighting;void main(void) {gl_FragColor = vec4(uVertexColor.rgb * vLightWeighting, uVertexColor.a);}",e="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;uniform vec3 uAmbientColor;varying vec3 vLightWeighting;"+
e+"void main(void) {gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);vec3 transformedNormal = uNMatrix * aVertexNormal;"+f+"}"):(b="precision mediump float;uniform vec4 uVertexColor;void main(void) {gl_FragColor = uVertexColor;}",e="attribute vec3 aVertexPosition;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;void main(void) {gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}");this._69=this._M53(a,b,e,c,!0,!1)},_M53:function(a,c,b,d,e,f){c=this.getShader(a,c,a.FRAGMENT_SHADER);
var g=this.getShader(a,b,a.VERTEX_SHADER);b=a.createProgram();a.attachShader(b,g);a.attachShader(b,c);a.linkProgram(b);a.getProgramParameter(b,a.LINK_STATUS)||alert("Could not initialise shaders");e&&a.useProgram(b);b.vertexPositionAttribute=a.getAttribLocation(b,"aVertexPosition");a.enableVertexAttribArray(b.vertexPositionAttribute);d&&(b.vertexNormalAttribute=a.getAttribLocation(b,"aVertexNormal"),a.enableVertexAttribArray(b.vertexNormalAttribute),this._15&&(b.useTextureUniform=a.getUniformLocation(b,
"uTexture")));f||(this._12?b.vertexColorUniform=a.getUniformLocation(b,"uVertexColor"):(b.vertexColorAttribute=a.getAttribLocation(b,"aVertexColor"),a.enableVertexAttribArray(b.vertexColorAttribute)));if(f||d&&this._15)b.TureCoordAttribute=a.getAttribLocation(b,"aTextureCoord"),a.enableVertexAttribArray(b.TureCoordAttribute),b.samplerUniform=a.getUniformLocation(b,"uSampler");b.pMatrixUniform=a.getUniformLocation(b,"uPMatrix");b.mvMatrixUniform=a.getUniformLocation(b,"uMVMatrix");b.nMatrixUniform=
a.getUniformLocation(b,"uNMatrix");if(d)for(d=this._31,e=d.getCount(),b.ambientColorUniform=a.getUniformLocation(b,"uAmbientColor"),this._13&&(b.materialShininessUniform=a.getUniformLocation(b,"uMaterialShininess")),f=0;f<e;f++)c=d.getItem(f),c.getEnabled()&&(b["lightDirUniform"+f]=a.getUniformLocation(b,"uLightDirection"+f),b["lightClrUniform"+f]=a.getUniformLocation(b,"uLightColor"+f),1==c.getStyle()&&(b["lightDiffuseClrUniform"+f]=a.getUniformLocation(b,"uLightDiffuseColor"+f)));return b},_M15:function(a,
c,b){if(null==this._1){if(null==this._2){if(b){b.x=a.b;b.y=a.a;return}return new w.e(a.b,a.a)}this._M4()}var d=(a.b-this._3)*this._5-this._9,e=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var f=q.create();q.translate(c,[0,0,-2],f);this._62&&q.multiply(f,this._62);return this._M35([d,e,a,1],f,b)},_M35:function(a,c,b){q.multiplyVec4(c,a);if(c=a[3])a[0]/=c,a[1]/=c;c=(.5*a[0]+.5)*this._37;a=(-.5*a[1]+.5)*this._38;return b?(b.x=c,b.y=a,b):new w.e(c,a)},_M0:function(a){a.bindTexture(a.TEXTURE_2D,
null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null)},_M62:function(a,c){var b=0,d=0,e=Math.ceil(255/c);if(a>=e){var f=Math.floor(a/e);f>=e&&(b=Math.floor(f/e),d=b*c,f-=b*e,a-=b*e*e);b=f*c;a-=f*e}return[a*c/255,b/255,d/255,1]},_M3:function(a,c,b){b=this._38-b;if(0==(this._uc&2)){var d=window.devicePixelRatio||1;c*=d;b*=d}d=new Uint8Array(4);a.readPixels(c,b,1,1,a.RGBA,a.UNSIGNED_BYTE,d);a=this._83;b=d[0];c=d[1];d=d[2];if(255==b&&255==c&&255==d)return null;b=Math.floor(b/
a);var e=Math.ceil(255/a);0!=c&&(b+=e*Math.floor(c/a));0!=d&&(b+=e*e*Math.floor(d/a));return 0<=b&&b<this._84.length?this._84[b].id:null},_M2:function(a){if(null==this._54){var c=this._45.length;if(0<c){var b=this._M64(a);this._M57(a,1,1,1,1,!1);this._54=b.framebuffer;this._85=b.Ture;b=0;this._84=[];for(var d=this._83=10,e=0;e<c;e++){var f=this._45[e];if(null!=f.id){var g=this._M62(b,d);b++;this._84.push(f);this._M42(3,a,f.buffer,null,f.indexBuffer,g,f.translation,f.scaling,f.rotation,f.A)}}}}},_M64:function(a){var c=
a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,c);c.width=this._42;c.height=this._43;var b=a.createTexture();a.bindTexture(a.TEXTURE_2D,b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,c.width,c.height,0,a.RGBA,a.UNSIGNED_BYTE,null);var d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,c.width,c.height);a.framebufferTexture2D(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,d);a={};a.framebuffer=c;a.TCanvas=b;a.renderBuffer=d;return a},_M65:function(a){this._15&&(this._M58(a),this._M59(a));for(var c=this._45.length,b=new w._p1(null),d=0;d<c;d++){var e=this._45[d];void 0!==e.material&&this._M8(e.material,b,null);this._M42(1,a,e.buffer,e.normalBuffer,e.indexBuffer,e.CData,e.translation,e.scaling,e.rotation,e.A)}null!=this._53&&this._M5(a,this._53)},repaint:function(){var a=
this._1;a&&(this._M0(a),this._M57(a,0,0,0,0,!0),this._M65(a),0<this._45.length&&(a.bindFramebuffer(a.FRAMEBUFFER,this._54),a.bindTexture(a.TEXTURE_2D,this._85)))},_M8:function(a,c,b){var d=this._26,e=!1;this._26=!1;var f=this._13;if(f){var g=null;null!=b&&(g=this._48,a&&a.tryGetValue(c,"3DMaterial")?(g=c.a,"string"==typeof g&&(g=g.toLowerCase(),"default"==g?g=U:"contrast"==g?g=aa:"none"==g&&(g=null)),this._48=g):this._48&&(this._48=this._47));null!=g?b!=this._50&&w.m.p(b,this._50)&&(this._50=b,e=
this._26=!0,g(b,this._49),this._51=this._49[0],this._82=this._49[1]):(a&&a.tryGetValue(c,"3DMatShininess")?(this._26=!0,c.a!=this._51&&(this._51=c.a,e=!0)):d&&(e=!0,this._51=this._25),a&&a.tryGetValue(c,"3DMatSpecular")?(this._26=!0,c.a!=this._82&&(this._82=c.a,e=!0)):d&&(this._82=void 0,e=!0),a&&a.tryGetValue(c,"3DMatDiffuse")?(this._26=!0,c.a!=this._86&&(this._86=c.a,e=!0)):d&&(this._86=void 0,e=!0))}if(this._27=e)if(a=this._1,c=this._69,a.uniform1f(c.materialShininessUniform,this._51),f)for(b=
0;b<f.length;b+=3)d=f[b],e=void 0!=this._82?this._82:f[b+1],g=void 0!=this._86?this._86:f[b+2],a.uniform3f(c["lightClrUniform"+d],e,e,e),a.uniform3fv(c["lightDiffuseClrUniform"+d],[g,g,g])}};Q._dt("CWW",w.SA,0,B.ibs);w.am.prototype._areaCanvas=function(){};w.am.prototype.drawGLText=function(a,c,b,d){this._wglTexts||(this._wglTexts=[]);var e={};e.T=a;e.C=b.C;e.z=this._wglLastZ;e.align=d.b();e.alignY=d.d();e.font=c.f();e.fontSize=c.g();e.st=c.i();e.hint=this._wglHint;e.angle=0;a=this._cc;null!=a&&(e.C=
this._Gv("fill",e.C,a,4),e.font=this._Gv("font-family",e.font,a,1),e.fontSize=this._Gv("font-size",e.fontSize,a,3),"bold"==this._Gv("font-weight","normal",a,1)&&(e.st|=1));this._wglTexts.push(e);return e};w.am.prototype.drawStringCanvas=function(a,c,b,d,e){a=this.drawGLText(a,c,b,e);a.x=d.x;a.y=d.y};w.am.prototype.drawString1Canvas=function(a,c,b,d,e){a=this.drawGLText(a,c,b,e);a.x=d.x;1==e.b()&&(a.x+=d.w/2);a.y=d.y+d.h/2};w.am.prototype._drawStringAngle2Canvas=function(a,c,b,d,e,f,g){a=this.drawGLText(a,
c,b,e);a.x=g.x;a.y=g.y;a.angle=f};B.bn.prototype._drawStringAngle2Canvas=function(a,c,b,d,e,f,g){this.idj()._drawStringAngle2Canvas(a,c,b,d,e,f,g)};w.am.prototype._uc=function(a){this._EA=this._SA=w.am.prototype._areaCanvas;this.C=w.am.prototype.drawStringCanvas;this.D=w.am.prototype.drawString1Canvas;this._svg2=a};w.am.prototype._sG2=function(){var a=this._g2;a||(a=new w.am,a._F(this._svg2),a._sG(this._c),this._g2=a);return a};w.am.prototype._eG2=function(a){a._eG(this._c)};B.PointAttributes.prototype.get3D=
function(){this._wgl0||(this._wgl0=new R(this));return this._wgl0};B.cG.prototype.getImage=function(){return this.g.t.S.toDataURL("image/png")};void 0!==B.VectorPie&&(B.VectorPie.prototype.getHeightFactor=V,B.VectorPie.prototype.setHeightFactor=W,B.VectorPie.prototype.getAngleZ=X,B.VectorPie.prototype.setAngleZ=Y);void 0!==B.bD&&(B.bD.prototype.getHeightFactor=V,B.bD.prototype.setHeightFactor=W,B.bD.prototype.getAngleZ=X,B.bD.prototype.setAngleZ=Y);var R=function(a){this._0=a};R.prototype={setModel:function(a){this.changeAttr("3DModel",
a)},setMaterialSpecular:function(a){this.changeAttr("3DMatSpecular",a)},setMaterialShininess:function(a){this.changeAttr("3DMatShininess",a)},setMaterialDiffuse:function(a){this.changeAttr("3DMatDiffuse",a)},setMaterial:function(a){this.changeAttr("3DMaterial",a)},changeAttr:function(a,c){null!=this._0?this._0.X(a,c):(null==this.hash&&(this.hash=new w.Z),this.hash.sA(a,c))}};var Z=function(a){this._0=[];this.setStyle("Default")};Z.prototype={setStyle:function(a){this.clear();var c=new G;c.setX(-1);
this.add(c);var b=new G;b.setZ(-1);this.add(b);var d=new G;d.setY(-1);this.add(d);var e=new T;e.setDiffuseFactor(0);e.setX(8);e.setY(2.8);e.setZ(1.3);e.setEnabled(!0);this.add(e);"ContrastCylinder"==a?(this._1=.18,c.setFactor(.18),b.setFactor(.47),d.setFactor(.33),e.setFactor(.34)):"ContrastPie"==a?(this._1=.21,c.setFactor(.2),b.setFactor(.63),d.setFactor(.54),e.setFactor(.34),e.setX(1.73),e.setY(2.8),e.setZ(.76)):(this._1=.2,c.setFactor(.33),b.setFactor(.67),d.setFactor(.8),e.setFactor(.17))},getAmbientFactor:function(){return this._1},
setAmbientFactor:function(a){this._1=a},getCount:function(){return this._0.length},getItem:function(a){return this._0[a]},setItem:function(a,c){this._0[a]=c},add:function(a){this._0.push(a)},removeAt:function(a){this._0.splice(a,1)},clear:function(){this._0=[]}};var G=function c(){this.v=[0,0,0];this._0=.25;this._1=!0;c._ic()};G.prototype={getStyle:function(){return 0},getEnabled:function(){return this._1},setEnabled:function(c){this._1=c},getFactor:function(){return this._0},setFactor:function(c){this._0=
c},getX:function(){return this.v[0]},setX:function(c){this.v[0]=c},getY:function(){return this.v[1]},setY:function(c){this.v[1]=c},getZ:function(){return this.v[2]},setZ:function(c){this.v[2]=c}};G._dt("W",w.SA,0);var T=function b(){b._ic();this._10=0};T.prototype={getStyle:function(){return 1},getDiffuseFactor:function(){return this._10},setDiffuseFactor:function(b){this._10=b}};T._dt("W",G,0);glMatrixArrayType="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:
Array;var E={create:function(b){return new glMatrixArrayType(3)},set:function(b,d){d[0]=b[0];d[1]=b[1];d[2]=b[2];return d},scale:function(b,d,e){b[0]*=d;b[1]*=d;b[2]*=d;return b},normalize:function(b,d){d||(d=b);var e=b[0],f=b[1],g=b[2],k=Math.sqrt(e*e+f*f+g*g);if(k){if(1==k)return d[0]=e,d[1]=f,d[2]=g,d}else return d[0]=0,d[1]=0,d[2]=0,d;k=1/k;d[0]=e*k;d[1]=f*k;d[2]=g*k;return d}},S={create:function(b){return new glMatrixArrayType(9)},transpose:function(b,d){var e=b[1],f=b[2],g=b[5];b[1]=b[3];b[2]=
b[6];b[3]=e;b[5]=b[7];b[6]=f;b[7]=g;return b}},q={create:function(b){return new glMatrixArrayType(16)},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toInverseMat3:function(b,d){var e=b[0],f=b[1],g=b[2],k=b[4],h=b[5],m=b[6],n=b[8],l=b[9],p=b[10],q=p*h-m*l,u=-p*k+m*n,r=l*k-h*n,y=e*q+f*u+g*r;if(!y)return null;y=1/y;d||(d=S.create());d[0]=q*y;d[1]=(-p*f+g*l)*y;d[2]=(m*f-g*h)*y;d[3]=u*y;d[4]=(p*e-g*n)*
y;d[5]=(-m*e+g*k)*y;d[6]=r*y;d[7]=(-l*e+f*n)*y;d[8]=(h*e-f*k)*y;return d},multiply:function(b,d,e){e||(e=b);var f=b[0],g=b[1],k=b[2],h=b[3],m=b[4],n=b[5],l=b[6],p=b[7],q=b[8],u=b[9],r=b[10],y=b[11],w=b[12],v=b[13],x=b[14];b=b[15];var z=d[0],B=d[1],A=d[2],C=d[3],E=d[4],F=d[5],K=d[6],H=d[7],I=d[8],G=d[9],L=d[10],M=d[11],N=d[12],O=d[13],P=d[14];d=d[15];e[0]=z*f+B*m+A*q+C*w;e[1]=z*g+B*n+A*u+C*v;e[2]=z*k+B*l+A*r+C*x;e[3]=z*h+B*p+A*y+C*b;e[4]=E*f+F*m+K*q+H*w;e[5]=E*g+F*n+K*u+H*v;e[6]=E*k+F*l+K*r+H*x;e[7]=
E*h+F*p+K*y+H*b;e[8]=I*f+G*m+L*q+M*w;e[9]=I*g+G*n+L*u+M*v;e[10]=I*k+G*l+L*r+M*x;e[11]=I*h+G*p+L*y+M*b;e[12]=N*f+O*m+P*q+d*w;e[13]=N*g+O*n+P*u+d*v;e[14]=N*k+O*l+P*r+d*x;e[15]=N*h+O*p+P*y+d*b;return e},multiplyVec3:function(b,d,e){e||(e=d);var f=d[0],g=d[1];d=d[2];e[0]=b[0]*f+b[4]*g+b[8]*d+b[12];e[1]=b[1]*f+b[5]*g+b[9]*d+b[13];e[2]=b[2]*f+b[6]*g+b[10]*d+b[14];return e},multiplyVec4:function(b,d,e){e||(e=d);var f=d[0],g=d[1],k=d[2];d=d[3];e[0]=b[0]*f+b[4]*g+b[8]*k+b[12]*d;e[1]=b[1]*f+b[5]*g+b[9]*k+b[13]*
d;e[2]=b[2]*f+b[6]*g+b[10]*k+b[14]*d;e[3]=b[3]*f+b[7]*g+b[11]*k+b[15]*d;return e},translate:function(b,d,e){var f=d[0],g=d[1];d=d[2];if(!e||b==e)return b[12]=b[0]*f+b[4]*g+b[8]*d+b[12],b[13]=b[1]*f+b[5]*g+b[9]*d+b[13],b[14]=b[2]*f+b[6]*g+b[10]*d+b[14],b[15]=b[3]*f+b[7]*g+b[11]*d+b[15],b;var k=b[0],h=b[1],m=b[2],n=b[3],l=b[4],p=b[5],q=b[6],u=b[7],r=b[8],w=b[9],B=b[10],v=b[11];e[0]=k;e[1]=h;e[2]=m;e[3]=n;e[4]=l;e[5]=p;e[6]=q;e[7]=u;e[8]=r;e[9]=w;e[10]=B;e[11]=v;e[12]=k*f+l*g+r*d+b[12];e[13]=h*f+p*g+
w*d+b[13];e[14]=m*f+q*g+B*d+b[14];e[15]=n*f+u*g+v*d+b[15];return e},scale:function(b,d){var e=d[0],f=d[1];d=d[2];b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;b[4]*=f;b[5]*=f;b[6]*=f;b[7]*=f;b[8]*=d;b[9]*=d;b[10]*=d;b[11]*=d;return b},rotate:function(b,d,e,f){var g=e[0],k=e[1];e=e[2];var h=Math.sqrt(g*g+k*k+e*e);if(!h)return null;1!=h&&(h=1/h,g*=h,k*=h,e*=h);var m=Math.sin(d),n=Math.cos(d),l=1-n;d=b[0];var h=b[1],p=b[2],q=b[3],u=b[4],r=b[5],w=b[6],B=b[7],v=b[8],x=b[9],z=b[10],D=b[11],A=g*g*l+n,C=k*g*l+e*m,E=e*
g*l-k*m,F=g*k*l-e*m,G=k*k*l+n,H=e*k*l+g*m,I=g*e*l+k*m,g=k*e*l-g*m,k=e*e*l+n;f?b!=f&&(f[12]=b[12],f[13]=b[13],f[14]=b[14],f[15]=b[15]):f=b;f[0]=d*A+u*C+v*E;f[1]=h*A+r*C+x*E;f[2]=p*A+w*C+z*E;f[3]=q*A+B*C+D*E;f[4]=d*F+u*G+v*H;f[5]=h*F+r*G+x*H;f[6]=p*F+w*G+z*H;f[7]=q*F+B*G+D*H;f[8]=d*I+u*g+v*k;f[9]=h*I+r*g+x*k;f[10]=p*I+w*g+z*k;f[11]=q*I+B*g+D*k;return f},frustum:function(b,d,e,f,g,k,h){h||(h=q.create());var m=d-b,n=f-e,l=k-g;h[0]=2*g/m;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2*g/n;h[6]=0;h[7]=0;h[8]=(d+b)/
m;h[9]=(f+e)/n;h[10]=-(k+g)/l;h[11]=-1;h[12]=0;h[13]=0;h[14]=-(k*g*2)/l;h[15]=0;return h},perspective:function(b,d,e,f,g){b=e*Math.tan(b*Math.PI/360);d*=b;return q.frustum(-d,d,-b,b,e,f,g)},ortho:function(b,d,e,f,g,k,h){h||(h=q.create());var m=d-b,n=f-e,l=k-g;h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/l;h[11]=0;h[12]=-(b+d)/m;h[13]=-(f+e)/n;h[14]=-(k+g)/l;h[15]=1;return h}}})();
